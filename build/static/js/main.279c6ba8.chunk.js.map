{"version":3,"sources":["helpers/firebaseInit.js","pages/Home.js","components/TableComponent.js","helpers/debounce.js","helpers/history.js","helpers/tokens.js","Networking/NetworkLayerCentral.js","Networking/API.js","contexts/AlertDialogContext.js","contexts/UseAlertDialogContext.js","helpers/stringResources.js","contexts/SnackbarContext.js","contexts/UseSnackbarContext.js","pages/Places.js","helpers/priceRange.js","helpers/averageTimeSpent.js","components/AutocompleteChip.js","components/AddSourceDialog.js","components/add_place_components/BasicPlaceInfo.js","components/ReorderablePhotos.js","components/AddImageDialog.js","components/add_place_components/PhotosInfo.js","components/CustomMap.js","components/add_place_components/PlaceLocation.js","components/add_place_components/ParkingLocation.js","components/AddDialog.js","components/add_place_components/PlaceDiscovery.js","components/add_place_components/initialScheduleData.js","components/ReviewCard.js","components/add_place_components/Reviews.js","contexts/AppBarTitleContext.js","contexts/UseAppBarTitleContext.js","components/ScheduleInterval.js","components/DayComponent.js","components/Schedule.js","components/add_place_components/SchedulesWrapper.js","pages/AddPlace.js","components/ApiPlaceCard.js","components/SearchInputComponent.js","pages/ApiPlaces.js","pages/NotFoundPage.js","components/Appbar.js","App.js","contexts/AuthContext.js","pages/LoginPage.js","components/AuthenticatedRoute.js","components/feedback/SnackbarFeedback.js","components/feedback/AlertDialogFeedback.js","index.js"],"names":["app","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","withStyles","theme","button","margin","spacing","input","display","props","classes","descendingComparator","a","b","orderBy","EnhancedTableHead","onSelectAllClick","order","numSelected","rowCount","onRequestSort","headCells","checkable","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","checked","onChange","inputProps","map","headCell","key","id","align","numeric","disablePadding","sortDirection","TableSortLabel","active","direction","onClick","property","event","label","className","visuallyHidden","useToolbarStyles","makeStyles","root","paddingLeft","paddingRight","highlight","palette","type","color","secondary","main","backgroundColor","lighten","light","text","primary","dark","title","flex","EnhancedTableToolbar","changePageCallback","keyword","setKeyword","customToolbarElements","debouncedSearch","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","Toolbar","clsx","Typography","variant","component","Tooltip","IconButton","aria-label","style","alignItems","TextField","target","useStyles","width","paper","marginBottom","table","minWidth","border","clip","height","overflow","position","top","centerCell","textAlign","rowNotPublished","rowNotVerified","rowBasic","TableComponent","pagingInfo","data","updateCallback","removeCallback","isLoading","React","setOrder","setOrderBy","selected","setSelected","page","setPage","dense","rowsPerPage","setRowsPerPage","emptyRows","Math","min","length","Paper","LinearProgress","TableContainer","Table","aria-labelledby","size","newSelecteds","n","name","TableBody","array","comparator","stabilizedThis","el","index","sort","stableSort","getComparator","slice","row","isItemSelected","indexOf","labelId","rowStyle","undefined","hover","role","aria-checked","tabIndex","selectedIndex","newSelected","concat","handleCheckboxChange","header","isId","scope","fontSize","colSpan","noWrap","TablePagination","rowsPerPageOptions","count","total","pageNum","onChangePage","newPage","onChangeRowsPerPage","parseInt","console","log","history","getAccessToken","Cookies","get","isAuthenticated","request","options","contentType","client","axios","create","baseURL","headers","interceptors","response","use","error","originalRequest","config","status","auth","currentUser","_retry","Promise","reject","getIdToken","then","token","Authorization","set","onSuccess","onError","debug","push","message","catch","RequestType","getRequest","path","urlData","url","method","postRequest","postMultipartRequest","formData","API","SourcePlace","updateSourcesForPlace","urlParams","Source","getSources","addSource","Places","getAllPlaces","insertPlace","updatePlace","getPlaceById","getAllPlacesAdmin","searchApiPlaces","removePlace","Tags","getAllTags","addTag","params","Categories","addCategory","getAllCategories","Photos","addPhoto","uploadPhoto","Parking","getParkingByLocation","insertNewParking","TagsPlace","updateTagsForPlace","CategoriesPlace","updateCategoriesForPlace","ParkingPlace","updateParkingForPlace","PhotoPlace","updatePhotoForPlace","Schedule","updateScheduleForPlace","Reviews","getPlaceReviews","AlertDialogContext","createContext","alertConfig","addAlertConfig","removeAlertConfig","AlertDialogProvider","children","setAlertConfig","contextValue","func","onClose","onCloseFunc","Provider","UseAlertDialogContext","useContext","Strings","DIALOG_PLACE_PUBLISH_TITLE","DIALOG_PLACE_PUBLISH_MESSAGE","DIALOG_PLACE_UNPUBLISH_MESSAGE","DIALOG_PLACE_INSERT_TITLE","DIALOG_PLACE_INSERT","DIALOG_PLACE_UPDATE_TITLE","DIALOG_PLACE_UPDATE","DIALOG_PLACE_VERIFY_TITLE","DIALOG_PLACE_VERIFY_MESSAGE","DIALOG_PLACE_DELETE_TITLE","DIALOG_PLACE_DELETE_MESSAGE","SNACKBAR_PLACE_INSERTED_SUCCESS","SNACKBAR_PLACE_REMOVE_SUCCESS","SNACKBAR_ERROR","SNACKBAR_CHANGES_SAVED","SnackbarContext","addConfig","removeConfig","SnackbarProvider","setConfig","success","UseSnackbarContext","sortingButtons","flexDirection","buttonsDiv","justifyContent","content","breakpoints","down","up","setData","pageData","setPageData","setIsLoading","filterLabel","filter","filterName","filterOptions","setFilterOptions","filterQuery","setFilterQuery","parseData","placesData","list","anchorEl","setAnchorEl","open","Boolean","handleClick","currentTarget","p","tmp","placeId","aria-describedby","Popover","anchorOrigin","vertical","horizontal","transformOrigin","FormControlLabel","control","filters","fq","join","filterOptionsChanged","Box","Button","startIcon","priceRange","averageTimeSpent","autoComplete","chip","flexWrap","listStyle","autoCompleteChipContainer","setOptions","selectedOptions","setSelectedOptions","getCurrentVal","setCurrentVal","firstLoad","setFirstLoad","found","row1","JSON","stringify","option","Chip","onDelete","item","Autocomplete","disableClearable","getOptionLabel","renderInput","closeButton","right","grey","action","setDialogOpen","setText","setUrl","setError","Dialog","fullWidth","DialogTitle","DialogContent","dividers","ev","marginTop","DialogActions","autoFocus","validateInput","previousPrice","placeInfo","setPlaceInfo","selectedSources","setSelectedSources","checkErrors","updatePlaceInfo","newValue","place","Object","assign","err","valuetext","setAvailableSources","hasPrice","setHasPrice","hasAverageTime","setHasAverageTime","dialogOpen","availableSources","val","required","placeholder","e","InputLabelProps","shrink","multiline","rows","Switch","old","labelPlacement","Slider","disabled","marginLeft","defaultValue","getAriaValueText","step","marks","FormControl","InputLabel","Select","native","Photo","onItemDelete","photo","left","styles","imgContainer","imgStyle","Card","CardMedia","paddingTop","image","src","CardActions","disableSpacing","SortablePhoto","SortableElement","SortableGallery","SortableContainer","items","photos","renderImage","ReorderablePhotos","setPhotos","srcName","keyName","modifiedData","toString","distance","onSortEnd","oldIndex","newIndex","arrayMove","axis","acceptedFileFormats","onCloseCallback","onFinishCallback","loading","acceptedFiles","maxFileSize","dropzoneProps","filesLimit","onDrop","files","imagefile","FormData","append","finally","handleFileUpload","outline","addImageDialogOpen","setAddImageDialogOpen","file","handleAddPhoto","autocomplete","borderBottom","locationData","setLocationData","mapHeight","selectedParkingCallback","changedParkingMarkerCallback","addParkingCallback","useFunction","callback","ref","useRef","current","useCallback","apply","this","arguments","Geocode","setApiKey","enableDebug","selectParkingHandler","addNewParkingHandler","geocodeFromLatLng","newLat","newLng","onMarkerLocationChanged","onParkingDataChanged","fromLatLng","address","results","formatted_address","addressArray","address_components","city","getCity","country","getCountry","changeLocationData","latitude","longitude","i","types","long_name","MyMapComponent","compose","withProps","containerElement","mapElement","withStateHandlers","infoWindow","show","toggleDraggableInfoWindow","draggableMarkerLocation","withGoogleMap","defaultZoom","center","lat","markerLocation","lng","defaultCenter","visible","draggable","onDragEnd","markerChanger","onParkingDataChange","latLng","onCloseClick","onToggleOpen","infoWindows","parkingData","location","parseFloat","parkingId","icon","showInfo","handleKeyPress","onMarkerLocationChange","which","keyCode","test","fromAddress","geometry","split","FullMap","parking","iw","onKeyPress","onPlaceSelected","latitudeValue","longitudeValue","navigator","geolocation","getCurrentPosition","coords","alert","useMemo","parkingMarkerData","setParkingMarkerData","allSelectedParkingData","setAllSelectedParkingData","parkingExists","markerData","getClosestParking","parkingDataChanged","SortableItem","elevation","SortableList","oldArray","textFieldLabel","description","selectedTags","setSelectedTags","selectedCategories","setSelectedCategories","dialogAddTagOpen","setDialogAddTagOpen","dialogAddCategoryOpen","setDialogAddCategoryOpen","availableCategories","setAvailableCategories","availableTags","setAvailableTags","AutocompleteChip","newTag","tagId","newCat","categoryId","initialScheduleData","openDay","closeDay","openTime","closeTime","marginRight","ReviewCard","review","CardContent","Avatar","alt","photoUrl","surname","Rating","rating","readOnly","upvotes","moment","timeAdded","format","reviewsInfo","reviews","overflowX","setReviews","filterBy","setFilterBy","getReviewsForPlace","debounceScroll","debounce","round","scrollWidth","scrollLeft","clientWidth","totalReviews","handleScrollDebounced","handleClose","Fragment","overallStarRating","precision","RadioGroup","Radio","onScroll","persist","handleScroll","AppBarTitleContext","setTitle","AppBarTitleProvider","UseAppBarTitleContext","flexFlow","picker","intervalRightSide","intervalLeftSide","intervals","setIntervals","currentInterval","lastAccommodation","lastAccommodationEnabled","setLastAccommodationEnabled","lastAccommodationTime","setLastAccommodationTime","getCloseDay","currentPeriod","isBefore","handleDelete","oldIntervals","useTheme","largeScreen","useMediaQuery","only","TimePicker","ampm","InputProps","disableUnderline","state","scheduleData","setScheduleData","periods","Divider","pickerStyle","headerLeft","setPeriods","handleIntervalChange","newIntervals","oldPeriods","filtered","oldData","schedule","isDefault","DatePicker","views","from","to","generateWeekdayViews","isScheduleEnabled","setIsScheduleEnabled","float","paperContent","loader","bottom","match","website","phoneNumber","hasSchedule","isPublic","isVerified","source","price","sources","setSources","setPlaceId","firstTimeLoading","setFirstTimeLoading","setCheckErrors","ColorButton","getContrastText","green","formFeedback","saveChanges","keys","errorsExists","formPlaceInfo","updateAll","all","updateTagsData","updatePhotoData","updateCategoriesData","updateParkingData","updateSchedule","updateSources","er","d","tags","categories","responses","CircularProgress","obj","CategoriesDisplay","SubheaderDisplay","media","expand","transform","transition","transitions","duration","shortest","expandOpen","avatar","red","placeData","CardHeader","subheader","substring","iconButton","divider","SearchInputComponent","hint","searchCallback","debounceInput","debouncedInput","InputBase","orientation","topBar","zIndex","searchBox","isLoadingData","setIsLoadingData","word","query","encodeURI","elementType","isFitWidth","disableImagesLoaded","updateOnEachImageLoad","boxSizing","Copyright","Date","getFullYear","minHeight","footer","root1","background","appBar","easing","sharp","leavingScreen","appBarShift","easeOut","enteringScreen","menuButton","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","contentShift","Appbar","setOpen","useLocation","handleDrawerClose","handleListItemClick","pathname","go","CssBaseline","AppBar","edge","Drawer","anchor","List","ListItem","Link","ListItemText","exact","Home","AddPlace","ApiPlaces","Redirect","App","utils","DateFnsUtils","Component","AuthContext","AuthProvider","setCurrentUser","onAuthStateChanged","user","form","submit","loaderMain","AuthenticatedRoute","rest","Route","render","routeProps","SnackbarFeedback","Snackbar","autoHideDuration","Alert","severity","AlertDialogFeedback","remove","DialogContentText","require","ReactDOM","email","setEmail","password","setPassword","handleLogin","signInWithEmailAndPassword","idToken","Container","maxWidth","mt","gutterBottom","document","getElementById"],"mappings":"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","file":"static/js/main.279c6ba8.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nconst app = firebase.initializeApp({\n    apiKey: process.env.REACT_APP_FIREBASE_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\n});\n\nexport default app;","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport app from \"../helpers/firebaseInit\";\nimport Cookies from \"js-cookie\";\n\nconst styles = theme => ({\n    button: {\n        margin: theme.spacing(1)\n    },\n    input: {\n        display: \"none\"\n    }\n});\n\n\n\n\n\n\nconst Home = props => {\n    const { classes } = props;\n\n    return (\n        <div>\n\n        </div>\n    );\n};\n\nHome.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Home);","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit'\nimport TextField from \"@material-ui/core/TextField\"\nimport useDebounce from \"../helpers/debounce\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport Chip from \"@material-ui/core/Chip\";\n\nfunction descendingComparator(a, b, orderBy) {\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction getComparator(order, orderBy) {\n    return order === 'desc'\n        ? (a, b) => descendingComparator(a, b, orderBy)\n        : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}\n\n\n\nfunction EnhancedTableHead(props) {\n    const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, headCells, checkable} = props;\n    const createSortHandler = (property) => (event) => {\n        onRequestSort(event, property);\n    };\n\n    return (\n        <TableHead>\n            <TableRow>\n\n                {checkable ? <TableCell padding=\"checkbox\">\n                    <Checkbox\n                        indeterminate={numSelected > 0 && numSelected < rowCount}\n                        checked={rowCount > 0 && numSelected === rowCount}\n                        onChange={onSelectAllClick}\n                        inputProps={{ 'aria-label': 'select all desserts' }}\n                    />\n                </TableCell> : null}\n                {headCells.map((headCell) => (\n                    <TableCell\n                        key={headCell.id}\n                        align={headCell.numeric ? 'right'  : 'left' }\n                        padding={headCell.disablePadding ? 'none' : 'default'}\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        <TableSortLabel\n                            active={orderBy === headCell.id}\n                            direction={orderBy === headCell.id ? order : 'asc'}\n                            onClick={createSortHandler(headCell.id)}\n                        >\n                            {headCell.label}\n                            {orderBy === headCell.id ? (\n                                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n                            ) : null}\n                        </TableSortLabel>\n                    </TableCell>\n                ))}\n            </TableRow>\n        </TableHead>\n    );\n}\n\nEnhancedTableHead.propTypes = {\n    classes: PropTypes.object.isRequired,\n    numSelected: PropTypes.number.isRequired,\n    onRequestSort: PropTypes.func.isRequired,\n    onSelectAllClick: PropTypes.func.isRequired,\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n    orderBy: PropTypes.string.isRequired,\n    rowCount: PropTypes.number.isRequired,\n    headCells: PropTypes.object.isRequired,\n    checkable: PropTypes.bool.isRequired\n};\n\n\n\n\n\nconst useToolbarStyles = makeStyles((theme) => ({\n    root: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(1),\n    },\n    highlight:\n        theme.palette.type === 'light'\n            ? {\n                color: theme.palette.secondary.main,\n                backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n            }\n            : {\n                color: theme.palette.text.primary,\n                backgroundColor: theme.palette.secondary.dark,\n            },\n    title: {\n        flex: '1 1 100%',\n    },\n}));\n\nconst EnhancedTableToolbar = (props) => {\n    const classes = useToolbarStyles();\n    const { numSelected, title, changePageCallback, keyword, setKeyword, customToolbarElements} = props;\n\n\n    const debouncedSearch = useDebounce(keyword, 300);\n\n\n    useEffect( () => {\n            changePageCallback(1,keyword)\n        },\n        [debouncedSearch]\n    );\n\n\n    return (\n        <Toolbar\n            className={clsx(classes.root, {\n                [classes.highlight]: numSelected > 0,\n            })}\n        >\n            {numSelected > 0 ? (\n                <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\n                    {numSelected} selected\n                </Typography>\n            ) : (\n                <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n                    {title}\n                </Typography>\n            )}\n            {numSelected > 0 ? (\n                <Tooltip title=\"Delete\">\n                    <IconButton aria-label=\"delete\">\n                        <DeleteIcon />\n                    </IconButton>\n                </Tooltip>\n            ) : <div style={{display: \"flex\", alignItems: \"center\"}}>\n                <TextField id=\"standard-basic\" label=\"Search\" onChange={ event =>{setKeyword(event.target.value)}}/>\n                {!!customToolbarElements ? customToolbarElements : null}\n            </div>}\n        </Toolbar>\n    );\n};\n\nEnhancedTableToolbar.propTypes = {\n    numSelected: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired\n};\n\n\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    paper: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n    },\n    table: {\n        minWidth: 750,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n    centerCell: {\n        textAlign: \"center\",\n        width: '100%'\n    },\n    rowNotPublished:{\n        backgroundColor: \"#ffcdd2\"\n    },\n    rowNotVerified:{\n        backgroundColor: \"#fff9c4\"\n    },\n    rowBasic: {\n        backgroundColor: \"#FFFFFF\"\n    }\n\n}));\n\nexport default function TableComponent({title, headCells, pagingInfo, data, checkable, changePageCallback, updateCallback, removeCallback, id, isLoading, customToolbarElements}) {\n\n    TableComponent.propTypes = {\n        title: PropTypes.string.isRequired,\n        headCells: PropTypes.object.isRequired,\n        pagingInfo: PropTypes.object,\n        data: PropTypes.object.isRequired,\n        checkable: PropTypes.bool.isRequired,\n        changePageCallback: PropTypes.func,\n        updateCallback: PropTypes.func,\n        removeCallback: PropTypes.func,\n        id: PropTypes.string.isRequired,\n        isLoading: PropTypes.bool,\n        customToolbarElements: PropTypes.object\n    };\n\n\n\n    const classes = useStyles();\n    const [order, setOrder] = React.useState('asc');\n    const [orderBy, setOrderBy] = React.useState('calories');\n    const [selected, setSelected] = React.useState([]);\n    const [page, setPage] = React.useState(0);\n    const [dense, setDense] = React.useState(false);\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\n    const [keyword, setKeyword] = useState('');\n\n\n    const handleRequestSort = (event, property) => {\n        const isAsc = orderBy === property && order === 'asc';\n        setOrder(isAsc ? 'desc' : 'asc');\n        setOrderBy(property);\n    };\n\n    const handleSelectAllClick = (event) => {\n        if (event.target.checked) {\n            const newSelecteds = data.map((n) => n.name);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleCheckboxChange = (event, name) =>{\n\n            const selectedIndex = selected.indexOf(name);\n            let newSelected = [];\n\n            if (selectedIndex === -1) {\n                newSelected = newSelected.concat(selected, name);\n            } else if (selectedIndex === 0) {\n                newSelected = newSelected.concat(selected.slice(1));\n            } else if (selectedIndex === selected.length - 1) {\n                newSelected = newSelected.concat(selected.slice(0, -1));\n            } else if (selectedIndex > 0) {\n                newSelected = newSelected.concat(\n                    selected.slice(0, selectedIndex),\n                    selected.slice(selectedIndex + 1),\n                );\n            }\n\n            setSelected(newSelected);\n\n    };\n\n    const handleClick = (event, name) => {\n\n    };\n\n\n    const handleChangePage = (event, newPage) => {\n        pagingInfo !==null ? changePageCallback(newPage + 1, keyword) : setPage(newPage)\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n        console.log(\"handleChangeRowsPerPage\")\n\n    };\n\n    const isSelected = (name) => selected.indexOf(name) !== -1;\n\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\n\n    return (\n        <div className={classes.root}>\n            <Paper className={classes.paper}>\n                {isLoading ? <LinearProgress/> : null }\n                <EnhancedTableToolbar\n                    title={title}\n                    numSelected={selected.length}\n                    changePageCallback={changePageCallback}\n                    keyword={keyword}\n                    setKeyword={setKeyword}\n                    customToolbarElements={customToolbarElements}\n                />\n                 <TableContainer>\n                    <Table\n                        className={classes.table}\n                        aria-labelledby=\"tableTitle\"\n                        size={dense ? 'small' : 'medium'}\n                        aria-label=\"enhanced table\"\n                    >\n                        <EnhancedTableHead\n                            classes={classes}\n                            numSelected={selected.length}\n                            order={order}\n                            orderBy={orderBy}\n                            onSelectAllClick={handleSelectAllClick}\n                            onRequestSort={handleRequestSort}\n                            rowCount={data.length}\n                            headCells={headCells}\n                            checkable={checkable}\n                        />\n\n\n                        <TableBody>\n                            {stableSort(data, getComparator(order, orderBy))\n                                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                                .map((row, index) => {\n\n                                    const isItemSelected = isSelected(row.name);\n                                    const labelId = `enhanced-table-checkbox-${index}`;\n\n                                    const rowStyle = row['isVerified'] !== undefined  && row['isVerified'] === false ? classes.rowNotVerified :\n                                        row['isPublic'] !== undefined && row['isPublic'] === false ? classes.rowNotPublished :  classes.rowBasic;\n\n                                    return (\n                                        <TableRow\n                                            className={rowStyle}\n                                            hover\n                                            onClick={(event) => handleClick(event, row.name)}\n                                            role=\"checkbox\"\n                                            aria-checked={isItemSelected}\n                                            tabIndex={-1}\n                                            key={row.name}\n                                            selected={isItemSelected}\n                                        >\n                                            {checkable ? <TableCell padding=\"checkbox\">\n                                                <Checkbox\n                                                    checked={isItemSelected}\n                                                    onChange={(event)=>handleCheckboxChange(event, row.name)}\n                                                    inputProps={{ 'aria-labelledby': labelId }}\n                                                />\n                                            </TableCell> : null}\n\n                                            {headCells.map(header=>{\n                                                if(header.isId){\n                                                    return <TableCell component=\"th\" id={labelId} scope=\"row\" >\n                                                            {row[header.id]}\n                                                        </TableCell>\n                                                }else if(header.id === 'actions' ){\n                                                        return <TableCell >\n                                                            <div>\n                                                                <IconButton onClick={()=>updateCallback(row[id])} size=\"small\" aria-label=\"edit\" >\n                                                                    <EditIcon fontSize=\"small\" />\n                                                                </IconButton>\n\n                                                                <IconButton size=\"small\" aria-label=\"delete\" >\n                                                                    <DeleteIcon onClick={()=>removeCallback(row[id])} fontSize=\"small\" />\n                                                                </IconButton>\n                                                            </div>\n                                                            </TableCell>\n                                                }else{\n                                                    return <TableCell align={header.numeric ? \"right\" : \"left\" }>{row[header.id]}</TableCell>\n                                                }\n\n                                            })}\n                                        </TableRow>\n                                    );\n                                })}\n                            {emptyRows > 0 && (\n                                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows}}>\n\n                                    {data.length > 0 ? <TableCell colSpan={6} /> : !isLoading &&\n                                        <TableCell colSpan={6} className={classes.centerCell}>\n                                            <Typography variant=\"h6\" noWrap>\n                                                No results\n                                            </Typography>\n                                        </TableCell>}\n                                </TableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10]}\n                    component=\"div\"\n                    count={pagingInfo!==null ? pagingInfo.total : data.length}\n                    rowsPerPage={rowsPerPage}\n                    page={pagingInfo!==null ? pagingInfo.pageNum-1 : page}\n                    onChangePage={handleChangePage}\n                    onChangeRowsPerPage={handleChangeRowsPerPage}\n                />\n            </Paper>\n        </div>\n    );\n}","import React, { useState, useEffect } from 'react';\n\n//Saltinis - https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\nexport default function useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(\n        () => {\n            const handler = setTimeout(() => {\n                setDebouncedValue(value);\n            }, delay);\n\n            return () => {\n                clearTimeout(handler);\n            };\n        },\n\n        [value]\n    );\n\n    return debouncedValue;\n}","import { createBrowserHistory as history} from 'history';\n\nexport default history();","import Cookies from 'js-cookie'\n\nexport const getAccessToken = () => Cookies.get('access_token');\nexport const isAuthenticated = () => !!getAccessToken();","import React from \"react\";\nimport axios from \"axios\"\nimport history from \"../helpers/history\";\nimport {getAccessToken} from \"../helpers/tokens\";\nimport Cookies from \"js-cookie\";\nimport app from \"../helpers/firebaseInit\";\n\nconst request = async function (options, contentType) {\n\n    const client = axios.create({\n        baseURL: false ? \"http://localhost:8080/\" : \"https://www.traveldirection.ax.lt:8080/\",\n        headers: {\n            'Content-Type': (contentType == null) ? 'application/json' : contentType,\n            'Accept': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            \"Authorization\": getAccessToken()\n        },\n    });\n\n\n    // Add a response interceptor\n    client.interceptors.response.use(function (response) {\n        return response;\n    }, function (error) {\n        // Any status codes that falls outside the range of 2xx cause this function to trigger\n        // Do something with response error\n        const originalRequest = error.config;\n        const status = error.response.status;\n        if (!!app.auth().currentUser  &&\n            (status === 401 || status === 403) &&\n            originalRequest._retry === undefined\n        ) {\n            //console.log(\"Users token has expired!\");\n            return app.auth().currentUser.getIdToken(true).then(token => {\n                //console.log(\"Retrieving new token and making the same request!\");\n                originalRequest._retry = true;\n                originalRequest.headers.Authorization = token;\n                Cookies.set(\"access_token\", token);\n                return axios(originalRequest)\n            });\n        }\n        return Promise.reject(error);\n    });\n\n    const onSuccess = function (response) {\n        console.log('Request Successful!', response);\n        return response.data;\n    };\n\n    const onError = function (error) {\n        console.debug('Request Failed:', error.config);\n        if (error.response) {\n            console.debug('Status:', error.response.status);\n            if (error.response.status === 403) {\n                history.push(\"/login\")\n            }\n            console.debug('Data:', error.response.data);\n            console.debug('Headers:', error.response.headers);\n        } else {\n            console.debug('Error Message:', error.message);\n        }\n        return Promise.reject(error.response || error.message);\n    };\n\n    return client(options)\n        .then(onSuccess)\n        .catch(onError);\n};\n\nconst getRequest = function (path, urlData = \"\") {\n    return request({\n        url: path + urlData,\n        method: 'GET'\n    });\n};\n\nconst postRequest = function (path, data, urlData = \"\") {\n    return request({\n        url: path + urlData,\n        method: 'POST',\n        data: data\n    });\n};\n\nconst postMultipartRequest = function (path, formData) {\n    return request({\n        url: path,\n        method: 'POST',\n        data: formData\n    }, 'multipart/form-data' /*'application/x-www-form-urlencoded'*/);\n};\n\nconst RequestType = {\n    getRequest, postRequest, postMultipartRequest\n};\n\nexport default RequestType\n\n\n","import RequestType from '../Networking/NetworkLayerCentral'\n\n//Places\nconst getAllPlaces = (urlParams) => RequestType.getRequest(\"api/v1/place/search\", urlParams);\nconst getAllPlacesAdmin = (urlParams) => RequestType.getRequest(\"api/v1/place/searchadmin\", urlParams);\nconst insertPlace = (data) => RequestType.postRequest(\"api/v1/place/insert\",data);\nconst updatePlace = (data) => RequestType.postRequest(\"api/v1/place/update\", data);\nconst getPlaceById = (urlParams) => RequestType.getRequest(\"api/v1/place/getplace\", urlParams);\nconst searchApiPlaces = (urlParams) => RequestType.getRequest(\"api/v1/placeApi/search\", urlParams);\nconst removePlace = (urlParams) => RequestType.getRequest(\"api/v1/place/delete\", urlParams);\n\nconst Places = {getAllPlaces, insertPlace, updatePlace, getPlaceById,getAllPlacesAdmin,searchApiPlaces, removePlace};\n\n//Tags\nconst getAllTags = () => RequestType.getRequest(\"api/v1/tags/all\");\nconst addTag = (params) => RequestType.postRequest(\"api/v1/tags/insert\", params);\nconst Tags = {getAllTags, addTag};\n\n//Category\nconst addCategory = (params) => RequestType.postRequest(\"api/v1/categories/insert\", params);\nconst getAllCategories = () => RequestType.getRequest(\"api/v1/categories/all\");\nconst Categories = {addCategory, getAllCategories};\n\n//Photo\nconst addPhoto = (params) => RequestType.postRequest(\"api/v1/photo/insert\", params);\nconst uploadPhoto = (params) => RequestType.postMultipartRequest(\"api/v1/photo/upload\", params);\nconst Photos = {addPhoto, uploadPhoto};\n\n\n//Parking\nconst getParkingByLocation = (urlParams) =>RequestType.getRequest(\"api/v1/parking/searchAdmin\", urlParams);\nconst insertNewParking = (data) =>  RequestType.postRequest(\"api/v1/parking/insert\", data);\nconst Parking = {getParkingByLocation, insertNewParking};\n\n\n//TagsPlace\nconst updateTagsForPlace = (data, urlParams) => RequestType.postRequest(\"api/v1/tagsplace/update\", data, urlParams);\nconst TagsPlace = {updateTagsForPlace};\n\n\n//CategoriesPlace\nconst updateCategoriesForPlace = (data, urlParams) => RequestType.postRequest(\"api/v1/categoryplace/update\", data, urlParams);\nconst CategoriesPlace = {updateCategoriesForPlace};\n\n//PhotoPlace\nconst updateParkingForPlace = (data, urlParams) => RequestType.postRequest(\"api/v1/parkingplace/update\", data, urlParams);\nconst ParkingPlace = {updateParkingForPlace};\n\n//PhotoPlace\nconst updatePhotoForPlace = (data, urlParams) => RequestType.postRequest(\"api/v1/photoplace/update\", data, urlParams);\nconst PhotoPlace = {updatePhotoForPlace};\n\n//Schedule\nconst updateScheduleForPlace = (data, urlParams) => RequestType.postRequest(\"api/v1/ws/update\", data, urlParams);\nconst Schedule = {updateScheduleForPlace};\n\n//ReviewsPlace\nconst getPlaceReviews = (urlParams) => RequestType.getRequest(\"api/v1/reviews/all\", urlParams);\nconst Reviews = {getPlaceReviews};\n\n//Sources\nconst getSources = () => RequestType.getRequest(\"api/v1/source/all\");\nconst addSource = (data) => RequestType.postRequest(\"api/v1/source/insert\",data);\nconst Source = {getSources, addSource};\n\n//SourcePlace\nconst updateSourcesForPlace = (data, urlParams) => RequestType.postRequest(\"api/v1/sourceplace/update\", data, urlParams);\nconst SourcePlace = {updateSourcesForPlace};\n\nconst API = {SourcePlace, Source,Places, Tags, Categories, Photos, Parking, TagsPlace, CategoriesPlace, ParkingPlace, PhotoPlace, Schedule, Reviews};\n\nexport default API\n\n","// src/common/providers/APIErrorProvider/index.js\nimport React, { useState, useCallback } from 'react';\n\nexport const AlertDialogContext = React.createContext({\n    alertConfig: null,\n    addAlertConfig: () => {},\n    removeAlertConfig: () => {}\n});\n\nexport default function AlertDialogProvider({ children }) {\n    const [alertConfig, setAlertConfig] = useState(null);\n\n    const contextValue = {\n        alertConfig,\n        addAlertConfig: (title, message, func, onClose=undefined) => setAlertConfig({ title, message, func,onClose}),\n        removeAlertConfig: (onCloseFunc) => setAlertConfig(null)\n    };\n\n    return (\n        <AlertDialogContext.Provider value={contextValue}>\n            {children}\n        </AlertDialogContext.Provider>\n    );\n}","import React, {useContext} from \"react\";\nimport {AlertDialogContext} from \"./AlertDialogContext\";\n\nexport default function UseAlertDialogContext() {\n    const { alertConfig, addAlertConfig, removeAlertConfig } = useContext(AlertDialogContext);\n    return { alertConfig, addAlertConfig, removeAlertConfig };\n}\n","const Strings = {\n    DIALOG_PLACE_PUBLISH_TITLE : 'Place publicity',\n    DIALOG_PLACE_PUBLISH_MESSAGE: \"This place will be visible for all users. Are you sure?\",\n    DIALOG_PLACE_UNPUBLISH_MESSAGE :\"This place will not be visible anymore. Are you sure?\",\n\n    DIALOG_PLACE_INSERT_TITLE: \"Insert place\",\n    DIALOG_PLACE_INSERT: \"Are you sure you want to insert this place?\",\n\n    DIALOG_PLACE_UPDATE_TITLE: \"Update place\",\n    DIALOG_PLACE_UPDATE: \"Are you sure you want to make changes to this place?\",\n\n    DIALOG_PLACE_VERIFY_TITLE: \"Place verification\",\n    DIALOG_PLACE_VERIFY_MESSAGE: \"This is a user's suggested place. Are you sure you want to verify this place and make it visible to others?\",\n\n    DIALOG_PLACE_DELETE_TITLE: \"Delete place\",\n    DIALOG_PLACE_DELETE_MESSAGE: \"This action will remove this place permanently. Are you sure you want to proceed?\",\n\n    SNACKBAR_PLACE_INSERTED_SUCCESS: \"Place inserted successfully\",\n    SNACKBAR_PLACE_REMOVE_SUCCESS: \"Place was removed successfully\",\n    SNACKBAR_ERROR: \"Something went wrong!\",\n    SNACKBAR_CHANGES_SAVED: \"All changes saved!\"\n};\n\nexport default Strings;","import React, { useState, useCallback } from 'react';\nimport { useContext } from 'react';\n\nexport const SnackbarContext = React.createContext({\n    config: null,\n    addConfig: () => {},\n    removeConfig: () => {}\n});\n\n\nexport default function SnackbarProvider({ children }) {\n    const [config, setConfig] = useState(null);\n\n    const removeConfig = () => setConfig(null);\n    const addConfig = (success, message) => setConfig({ success, message });\n\n    const contextValue = {\n        config,\n        addConfig: (success, message) => addConfig(success, message),\n        removeConfig: () => removeConfig()\n    };\n\n    return (\n        <SnackbarContext.Provider value={contextValue}>\n            {children}\n        </SnackbarContext.Provider>\n    );\n}","import { useContext } from 'react';\nimport {SnackbarContext} from \"./SnackbarContext\";\n\nexport default function UseSnackbarContext() {\n    const { config, addConfig, removeConfig } = useContext(SnackbarContext);\n    return { config, addConfig, removeConfig };\n}\n","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport TableComponent from \"../components/TableComponent\";\nimport API from \"../Networking/API\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\"\nimport Box from \"@material-ui/core/Box\";\nimport history from \"../helpers/history\";\nimport UseAlertDialogContext from \"../contexts/UseAlertDialogContext\";\nimport Strings from \"../helpers/stringResources\";\nimport UseSnackbarContext from \"../contexts/UseSnackbarContext\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport Popover from \"@material-ui/core/Popover\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nconst styles = theme => ({\n    button: {\n        margin: theme.spacing(2)\n    },\n    input: {\n        display: \"none\"\n    },\n\n    sortingButtons: {\n        padding: theme.spacing(2),\n        display: \"flex\",\n        flexDirection: \"column\"\n\n},\n    root:{\n        height:\"100vh\",\n        width:\"100%\",\n        overflow: \"auto\"\n    },\n    buttonsDiv: {\n        backgroundColor: \"red\",\n        justifyContent: \"flex-end\"\n    },\n    content:{\n        display: 'flex',\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        [theme.breakpoints.down(\"lg\")]: {\n            padding: theme.spacing(1),\n        },\n        [theme.breakpoints.up(\"lg\")]: {\n            padding: theme.spacing(8),\n        },\n    }\n});\n\n\nconst headCells = [\n    { id: 'name', numeric: false, disablePadding: false, label: 'Place name', isId: true},\n    { id: 'address', numeric: false, disablePadding: false, label: 'Address',isId: false},\n    { id: 'city', numeric: false, disablePadding: false, label: 'City',isId: false },\n    { id: 'country', numeric: false, disablePadding: false, label: 'Country',isId: false },\n    { id: 'phoneNumber', numeric: false, disablePadding: false, label: 'Phone Number',isId: false },\n    { id: 'actions', numeric: false, disablePadding: false, label: 'Actions', isId: false }\n];\n\nfunction Places(props) {\n\n    const [data, setData] = useState([]);\n    const [pageData, setPageData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const { classes } = props;\n\n\n    const [filterOptions, setFilterOptions] = useState([\n        {filterLabel: \"Unverified\", filter: false, filterName: \"unverified\"},\n        {filterLabel: \"Unpublished\", filter: false, filterName: \"unpublished\"}]);\n\n    const [filterQuery, setFilterQuery] = useState(\"\");\n\n\n    const { addAlertConfig } = UseAlertDialogContext();\n    const { addConfig } = UseSnackbarContext();\n\n    useEffect(()=>{\n        if(!isLoading){\n            getAllPlaces(\"?o=\"+filterQuery)\n            console.log(\"Filter query\", filterQuery);\n        }\n    },[filterQuery]);\n\n    function parseData(data){\n        setIsLoading(false);\n        let placesData = [];\n        data.list.map(row => {\n            placesData.push(row)\n        });\n\n        delete data.list;\n        setData(placesData);\n        setPageData(data);\n    }\n\n    function updatePlaceCallback(id){\n        history.push(\"/app/addplace/\"+id)\n    }\n    function removePlaceCallback(id){\n        setIsLoading(true);\n        addAlertConfig(Strings.DIALOG_PLACE_DELETE_TITLE, Strings.DIALOG_PLACE_DELETE_MESSAGE, function () {\n            API.Places.removePlace(\"?p=\"+id).then(response=>{\n                let tmp = [];\n                data.map(row=>{\n                    if(row.placeId !== id){\n                        tmp.push(row)\n                    }\n                });\n                setData(tmp);\n                addConfig(true, Strings.SNACKBAR_PLACE_REMOVE_SUCCESS)\n                setIsLoading(false)\n            }).catch(error=>{\n                setIsLoading(false);\n                addConfig(false, Strings.SNACKBAR_ERROR)\n            })\n        }, ()=>{setIsLoading(false)})\n    }\n\n    const changePageCallback = (p=0, keyword=\"\") => {\n        setIsLoading(true);\n        getAllPlaces(\"?p=\"+p+\"&s=\"+10+\"&keyword=\"+keyword+\"&o=\"+filterQuery)\n    };\n\n\n    //Sorting stuff\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const filterOptionsChanged = (name) =>{\n        let filters = [];\n        let fq = [];\n        filterOptions.map(row=>{\n            if(row.filterName === name){\n                row.filter = !row.filter\n            }\n            if(row.filter){\n                fq.push(row.filterName)\n            }\n            filters.push(row)\n        });\n\n        setFilterQuery(fq.join(\",\"));\n        setFilterOptions(filters)\n    };\n\n    const customToolbarElements = () =>{\n        return <div>\n            <Tooltip aria-describedby={id} title=\"Filter list\">\n                <IconButton  aria-label=\"filter list\" onClick={handleClick}>\n                    <FilterListIcon />\n                </IconButton>\n            </Tooltip>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={()=>{setAnchorEl(null)}}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}\n            >\n                <div className={classes.sortingButtons}>\n                    {filterOptions.map(row=>{\n                        return <FormControlLabel\n                            control={<Checkbox checked={row.filter} onChange={()=>filterOptionsChanged(row.filterName)} name={row.filterName} />}\n                            label={row.filterLabel}\n                        />\n                    })}\n                </div>\n\n            </Popover>\n        </div>\n    };\n    /*------------------------------------------------------------------------------------------------------*/\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.content} >\n                <TableComponent\n                    title={\"Places\"}\n                    headCells={headCells}\n                    data={data}\n                    pagingInfo={pageData}\n                    checkable={false}\n                    changePageCallback={changePageCallback}\n                    updateCallback={updatePlaceCallback}\n                    removeCallback={removePlaceCallback}\n                    id={\"placeId\"}\n                    isLoading={isLoading}\n                    customToolbarElements={customToolbarElements()}\n                />\n\n                <Box display=\"flex\" justifyContent=\"flex-end\">\n                    <Button\n                        onClick={()=>{history.push(\"/app/addplace\")}}\n                        variant=\"text\"\n                        color=\"secondary\"\n                        size=\"large\"\n                        className={classes.button}\n                        startIcon={<AddIcon />}>\n                        Add\n                    </Button>\n                </Box>\n            </div>\n\n        </div>\n    );\n\n    function getAllPlaces(urlParams=\"\") {\n        API.Places.getAllPlacesAdmin(urlParams).then(response=>{\n            console.log(response)\n            parseData(response)\n        }).catch(error=>{\n            console.log(error)\n        })\n    }\n}\n\nPlaces.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Places);","export const priceRange = [\n    {\n        value: 0,\n        label: \"$\",\n    },\n    {\n        value: 25,\n        label: \"$$\",\n    },\n    {\n        value: 50,\n        label: \"$$$\",\n    },\n    {\n        value: 75,\n        label: \"$$$$\",\n    },\n    {\n        value: 100,\n        label: \"$$$$$\",\n    }\n];\n","export const averageTimeSpent = [\n    {\n        value: 5,\n        label: 5,\n    },\n    {\n        value: 10,\n        label: 10,\n    },\n    {\n        value: 15,\n        label: 15,\n    },\n    {\n        value: 30,\n        label: 30,\n    },\n    {\n        value: 45,\n        label: 45,\n    },\n    {\n        value: 60,\n        label: 60,\n    },\n    {\n        value: 90,\n        label: 90,\n    },\n    {\n        value: 120,\n        label: 120,\n    },\n    {\n        value: 150,\n        label: 150,\n    },\n    {\n        value: 180,\n        label: 180,\n    },\n    {\n        value: 210,\n        label: 210,\n    },\n    {\n        value: 240,\n        label: 240,\n    },\n    {\n        value: 270,\n        label: 270,\n    },\n];","\nimport React, {useEffect, useState} from 'react';\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Paper from \"@material-ui/core/Paper\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Box from \"@material-ui/core/Box\";\n\nconst styles = theme => ({\n    autoComplete: {\n        margin: theme.spacing(1)\n    },\n    chip: {\n        margin: theme.spacing(0.5),\n    },\n    root: {\n        display: 'flex',\n        justifyContent: 'left',\n        flexWrap: 'wrap',\n        listStyle: 'none',\n        padding: theme.spacing(1),\n        margin: 0,\n    },\n    autoCompleteChipContainer: {\n        padding: theme.spacing(1)\n    }\n});\n\nfunction AutoCompleteChip(props){\n\n    const {options, setOptions, selectedOptions, setSelectedOptions, classes, label, id} = props;\n    const [getCurrentVal, setCurrentVal] = useState({\"name\": \"\"});\n    const [firstLoad, setFirstLoad] = useState(true);\n\n    function handleDelete(data) {\n        setSelectedOptions(selectedOptions.filter(item => item !== data));\n        setOptions(\n            [\n                ...options,\n                data\n            ]\n        )\n    }\n\n    useEffect(()=>{\n        if(firstLoad && options.length>0){\n            let data = [];\n            options.map(row=>{\n                let found = false;\n                selectedOptions.map(row1=>{\n                    if(JSON.stringify(row) === JSON.stringify(row1)){\n                        found = true\n                    }\n                });\n                if(!found){\n                   data.push(row)\n                }\n            });\n            setOptions(data);\n            setFirstLoad(false)\n        }\n    },[options]);\n\n    function handleInput(event, value){\n        setCurrentVal({\"name\": \"\"});\n        setSelectedOptions(\n            [\n                ...selectedOptions,\n                value\n            ]\n        );\n        setOptions(options.filter(item => item !== value))\n    }\n\n    return(\n        <div>\n            <Box  className={classes.autoCompleteChipContainer}>\n                {selectedOptions.length !== 0 &&\n                <Box component=\"ul\" className={classes.root}>\n                    {\n                        selectedOptions.map(option => {\n                            return(\n                                <li key={option[id]}>\n                                    <Chip\n                                        variant=\"outlined\"\n                                        label={option.name}\n                                        onDelete={() => handleDelete(option)}\n                                        className={classes.chip}\n                                    />\n                                </li>\n                            )\n                        })\n                    }\n                </Box>\n                }\n\n                <Autocomplete\n                    className={classes.autoComplete}\n                    value={getCurrentVal}\n                    options={options}\n                    onChange={handleInput}\n                    disableClearable\n                    getOptionLabel={(option) =>  option.name}\n                    renderInput={(params) => <TextField {...params} label={label} variant=\"outlined\" />}\n                />\n            </Box>\n        </div>\n    )\n}\n\nAutoCompleteChip.propTypes = {\n    setSelectedOptions: PropTypes.func.isRequired,\n    options: PropTypes.array.isRequired,\n    setOptions: PropTypes.func.isRequired,\n    selectedOptions: PropTypes.array.isRequired,\n    classes: PropTypes.object.isRequired,\n    label: PropTypes.string.isRequired\n};\n\nexport default withStyles(styles)(AutoCompleteChip)","import {withStyles} from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport React, {useState} from \"react\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport List from \"@material-ui/core/List\";\n\nconst styles = theme => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(2),\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    }\n});\n\nfunction AddSourceDialog(props){\n\n    function validateInput(){\n        let error = false;\n        if(text.length <= 3 || url.length <=3)\n            error = true;\n        setError(error);\n        return error\n    }\n\n    let {classes, open, action, setDialogOpen} = props;\n    const [text, setText] = useState(\"\");\n    const [url, setUrl] = useState(\"\");\n    const [error, setError] = useState(false);\n    return(\n        <div>\n            <Dialog aria-labelledby=\"customized-dialog-title\" open={open} fullWidth={true}>\n                <DialogTitle id=\"customized-dialog-title\">\n                    Insert source\n                </DialogTitle>\n                <DialogContent dividers>\n                        <TextField error={error} onChange = {(ev) => {setText(ev.target.value)}}\n                                   label=\"Source name\" variant=\"outlined\" fullWidth />\n                        <TextField style={{marginTop:\"16px\"}} error={error} onChange = {(ev) => {setUrl(ev.target.value)}}\n                                   label=\"Source url\" variant=\"outlined\" fullWidth />\n\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={()=>setDialogOpen(false)} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button autoFocus color=\"primary\" onClick={() => {\n                        !validateInput() && action(text, url);\n                        setDialogOpen(false)\n                    }}>\n                        Add\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\nexport default withStyles(styles)(AddSourceDialog)","import React, {useEffect, useState} from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {withStyles} from \"@material-ui/core\";\nimport Slider from \"@material-ui/core/Slider\";\nimport {priceRange} from \"../../helpers/priceRange\";\nimport {averageTimeSpent} from \"../../helpers/averageTimeSpent\"\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport AutoCompleteChip from \"../AutocompleteChip\";\nimport API from \"../../Networking/API\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddSourceDialog from \"../AddSourceDialog\";\n\n\nconst styles = theme => ({});\nlet previousPrice = \"\";\n\nfunction BasicPlaceInfo({classes, placeInfo, setPlaceInfo, selectedSources, setSelectedSources, error, setError, checkErrors}) {\n\n    const updatePlaceInfo = (event, newValue) => {\n        const {name, value, id} = event.target;\n        let place = Object.assign({}, placeInfo, {});\n        let err = Object.assign({}, error, {});\n        if (id !== \"\") {\n            place[id] = valuetext(newValue[0]);\n        } else {\n            //err[name] = name==='name' && value.length === 0;\n            place[name] = value\n        }\n        console.log(\"Updated place\", place);\n        setError(err);\n        setPlaceInfo(place)\n    };\n\n    const getSources = () =>{\n        API.Source.getSources().then(response=>{\n            setAvailableSources(response)\n        }).catch(error=>{\n\n        })\n    };\n\n    const handleAddSource = (name, url) =>{\n        API.Source.addSource({name: name, url: url}).then(response=>{\n            setAvailableSources(\n                [\n                    ...availableSources,\n                    response\n                ]\n            );\n            setSelectedSources([\n                ...selectedSources,\n                response\n            ]);\n        }).catch(error=>{\n            console.log(error)\n        })\n    };\n\n    useEffect(()=>{\n        getSources()\n    },[]);\n\n    console.log(placeInfo[\"averageTimeSpent\"]);\n    const [hasPrice, setHasPrice] = useState(placeInfo[\"price\"] !== \"\");\n    const [hasAverageTime, setHasAverageTime] = useState( parseInt(placeInfo[\"averageTimeSpent\"]) !== 0);\n\n    const [dialogOpen, setDialogOpen] = useState(false);\n\n    const [availableSources, setAvailableSources] = useState([]);\n\n    function valuetext(value) {\n        let val = \"\";\n        priceRange.map(row => {\n            if (row.value === value)\n                val = row.label\n        });\n        return val\n    }\n\n    return <div>\n        <Typography variant=\"h6\">\n            Basic place information\n        </Typography>\n        <br/>\n        <TextField\n            required\n            error={checkErrors && error['name']}\n            label=\"Place name\"\n            style={{margin: 8}}\n            placeholder=\"Enter the place name\"\n            fullWidth\n            value={placeInfo['name']}\n            name=\"name\"\n            onChange={e => updatePlaceInfo(e)}\n            variant=\"outlined\"\n            margin=\"normal\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n        <TextField\n            label=\"Place description\"\n            style={{margin: 8}}\n            placeholder=\"Describe the place thoroughly\"\n            fullWidth\n            multiline\n            name=\"description\"\n            value={placeInfo['description']}\n            onChange={e => updatePlaceInfo(e)}\n            variant=\"outlined\"\n            rows={4}\n            margin=\"normal\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n        <TextField\n            label=\"Phone number\"\n            style={{margin: 8}}\n            placeholder=\"Enter phone number\"\n            fullWidth\n            name=\"phoneNumber\"\n            value={placeInfo['phoneNumber']}\n            onChange={e => updatePlaceInfo(e)}\n            variant=\"outlined\"\n            margin=\"normal\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n        <TextField\n            label=\"Website\"\n            style={{margin: 8}}\n            placeholder=\"Enter website\"\n            fullWidth\n            name=\"website\"\n            value={placeInfo['website']}\n            onChange={e => updatePlaceInfo(e)}\n            variant=\"outlined\"\n            margin=\"normal\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n\n        <br/>\n        <br/>\n       <AutoCompleteChip\n                id=\"source\"\n                label=\"Select sources\"\n                options={availableSources}\n                setOptions={setAvailableSources}\n                setSelectedOptions={setSelectedSources}\n                selectedOptions={selectedSources}\n       />\n        <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => setDialogOpen(true)}\n            startIcon={<AddIcon />}>\n            Add missing source\n        </Button>\n        <AddSourceDialog\n            action={handleAddSource}\n            open={dialogOpen}\n            setDialogOpen={setDialogOpen}\n        />\n\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n        <div style={{display: \"flex\"}}>\n            <FormControlLabel\n                control={\n                    <Switch\n                        checked={hasPrice}\n                        onChange={() => {\n                            setHasPrice(old => {\n                                let place = Object.assign({}, placeInfo, {});\n                                if (old === false) {\n                                        previousPrice = place['price'];\n                                        place[\"price\"] = \"\";\n                                        setPlaceInfo(place);\n                                    }else{\n                                        place['price'] = previousPrice;\n                                        setPlaceInfo(place);\n                                    }\n                                    return !old\n                                }\n                            )\n                        }}\n                        name=\"price\"\n                        color=\"primary\"\n                    />\n                }\n                label=\"Price\"\n                labelPlacement=\"start\"\n            />\n\n            <Slider\n                id=\"price\"\n                onChange={updatePlaceInfo}\n                disabled={!hasPrice}\n                value={priceRange.map(row => {\n                    if (row.label === placeInfo['price']) return row.value\n                })}\n                style={{width: \"60%\", marginLeft: \"48px\"}}\n                defaultValue={0}\n                getAriaValueText={valuetext}\n                aria-labelledby=\"discrete-slider-always\"\n                step={25}\n                marks={priceRange}\n            />\n        </div>\n        <br/>\n        <br/>\n        <div style={{display: \"flex\"}}>\n            <FormControlLabel\n                control={\n                    <Switch\n                        checked={hasAverageTime}\n                        onChange={() => setHasAverageTime(old => {\n                            let place = Object.assign({}, placeInfo, {})\n                            place[\"averageTimeSpent\"] = old === true ? 0 : 30\n                            setPlaceInfo(place)\n                            return !old\n                        })}\n                        color=\"primary\"\n                    />\n                }\n                label=\"Average time Spent\"\n                labelPlacement=\"start\"\n            />\n\n\n            <FormControl variant=\"outlined\" style={{width: \"60%\", marginLeft: \"48px\"}}>\n                <InputLabel>Minutes</InputLabel>\n                <Select\n                    disabled={!hasAverageTime}\n                    native\n                    value={parseInt(placeInfo['averageTimeSpent'], 10)}\n                    onChange={updatePlaceInfo}\n                    label=\"Average Time spent\"\n                    inputProps={{\n                        name: 'averageTimeSpent'\n                    }}\n                >\n                    <option disabled value=\"0\"></option>\n                    {\n                        averageTimeSpent.map(row=>{\n                            return <option value={parseInt(row.value, 10)}> {row.value}</option>\n                        })\n                    }\n                </Select>\n            </FormControl>\n        </div>\n    </div>\n}\n\nexport default withStyles(styles)(BasicPlaceInfo)","import {arrayMove, SortableContainer, SortableElement} from \"react-sortable-hoc\";\nimport React, {useMemo, useState} from \"react\"\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Gallery from \"react-photo-gallery\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Delete from \"@material-ui/icons/Delete\"\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Card from \"@material-ui/core/Card\";\nimport Button from \"@material-ui/core/Button\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nconst imgWithClick = { cursor: \"pointer\" };\n\nconst Photo = ({ index, onItemDelete, photo, margin, direction, top, left }) => {\n\n    const styles = {\n        imgContainer: {\n            margin: margin,\n            display: 'inline',\n            position: 'relative',\n            width: '300px',\n            height: '300px',\n        }\n    }\n    if (direction === \"column\") {\n        styles.imgContainer.position = \"absolute\";\n        styles.imgContainer.imgStyle.left = left;\n        styles.imgContainer.imgStyle.top = top;\n    }\n\n    const handleDelete = event => {\n        onItemDelete(photo);\n    }\n\n        return (\n\n            <Card style={styles.imgContainer}>\n                <CardMedia\n                    style={{height: 0, paddingTop: '80%'}}\n                    image={photo.src}\n                />\n                <CardActions disableSpacing>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        startIcon={<DeleteIcon />}\n                        onClick = {(event) => {handleDelete(event)}}\n                    >\n                        Delete\n                    </Button>\n                </CardActions>\n\n            </Card>\n        )\n\n};\n\nconst SortablePhoto = SortableElement((item) => <Photo {...item} />);\n//const SortablePhoto = SortableElement(item => <img {...item}/>)\nconst SortableGallery = SortableContainer(({ items, onItemDelete}) => (\n    <Gallery photos={items} renderImage={props => <SortablePhoto {...props} onItemDelete={onItemDelete}/>} />\n));\n\nfunction ReorderablePhotos(props){\n    let {setPhotos, photos, srcName, keyName} = props\n    const onSortEnd = ({ oldIndex, newIndex }) => {\n        setPhotos(arrayMove(photos, oldIndex, newIndex));\n    };\n    function handleItemDelete(photo){\n        setPhotos(photos.filter(item => {return item[keyName].toString() !== photo.key}))\n    }\n\n    let modifiedData = photos.map(item =>  {\n        return(\n    {\n        key: item[keyName].toString(),\n        src: item[srcName],\n        width: 1,\n        height: 1\n    })\n\n})\n        return (\n            <div >\n                <SortableGallery distance={10} items={modifiedData} onSortEnd={onSortEnd} axis={\"xy\"} onItemDelete = {handleItemDelete} />\n            </div>\n        );\n\n}\n\n\nexport default  ReorderablePhotos","import {withStyles} from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport React, {useState} from \"react\";\nimport {Card} from \"@material-ui/core\";\nimport {DropzoneArea} from \"material-ui-dropzone\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport PropTypes from \"prop-types\";\nimport API from \"../Networking/API\";\nimport axios from \"axios\";\n\nconst styles = theme => ({\n});\n\nconst acceptedFileFormats = ['image/jpeg', 'image/png', 'image/bmp', 'image/jpg']\n\nfunction AddImageDialog(props){\n\n    const {onCloseCallback, open, onFinishCallback} = props\n    const [loading, setIsLoading] = useState(false)\n\n    function handleFileUpload(files) {\n        setIsLoading(true)\n\n        var imagefile = files[0]\n        let formData = new FormData()\n        formData.append(\"image\", imagefile)\n\n        API.Photos.uploadPhoto(formData).then(response => {\n            onFinishCallback(response)\n        }).catch(err => {\n            onFinishCallback()\n        }).finally(() => {\n            setIsLoading(false)\n        })\n    }\n\n    return(\n        <div>\n            <Dialog aria-labelledby=\"customized-dialog-title\" open={open} fullWidth={true}>\n                <DialogTitle id=\"customized-dialog-title\" >\n                    Photo upload\n                </DialogTitle>\n                {loading && <LinearProgress variant=\"query\" />}\n                <DialogContent dividers>\n                    <DropzoneArea\n                        acceptedFiles={acceptedFileFormats}\n                        maxFileSize={25000000}\n                        dropzoneProps = {{disabled: loading}} filesLimit={1} onDrop={(files) => handleFileUpload(files)}/>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={onCloseCallback} color=\"primary\">\n                        Cancel\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\nAddImageDialog.propTypes = {\n    classes: PropTypes.object.isRequired,\n    open: PropTypes.bool.isRequired,\n    onFinishCallback: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(AddImageDialog)\n","import React, {useState} from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport ReorderablePhotos from \"../ReorderablePhotos\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddImageDialog from \"../AddImageDialog\";\nimport {Card} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = theme => ({\n    outline: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n        width: '100%'\n    },\n    button: {\n        margin: theme.spacing(2)\n    }\n});\n\nfunction PhotosInfo({classes, setPhotos, photos}) {\n    const [addImageDialogOpen, setAddImageDialogOpen] = useState(false);\n\n    function handleAddPhoto(file) {\n        setAddImageDialogOpen(false);\n        if(file == null)\n            return;\n        setPhotos([\n            ...photos,\n            file]\n        )\n    }\n\n    return(\n        <div>\n            <Typography variant=\"h6\" >\n                Photos\n            </Typography>\n            <Card variant={\"outlined\"} className={classes.outline}>\n\n                {photos.length > 0 && <ReorderablePhotos keyName=\"photoId\" srcName = \"url\" setPhotos = {setPhotos} photos = {photos} />}\n\n\n                <Button\n                    variant=\"text\"\n                    color=\"primary\"\n                    size=\"small\"\n                    style={{width: '15%'}}\n                    className={classes.button}\n                    onClick={() => setAddImageDialogOpen(true)}\n                    startIcon={<AddIcon />}>\n                    Add photo\n                </Button>\n\n                <AddImageDialog open={addImageDialogOpen} onFinishCallback={(file) => handleAddPhoto(file)} onCloseCallback={() => setAddImageDialogOpen(false)}/>\n\n\n            </Card>\n        </div>\n\n    )\n}\n\nexport default withStyles(styles)(PhotosInfo)\n\n\n","import React, {memo, useEffect, useMemo, useState} from 'react'\nimport Autocomplete from 'react-google-autocomplete';\nimport Geocode from \"react-geocode\";\nimport {compose, withProps, withStateHandlers} from \"recompose\"\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker, InfoWindow } from \"react-google-maps\"\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {map} from \"react-bootstrap/cjs/ElementChildren\";\nimport PropTypes, {func} from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport history from \"../helpers/history\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\n//\n\n//Geocoding API: AIzaSyDGFjZHSoRrZ2AEO0ONXvjuN4RiCmknXf8\n//Places API: AIzaSyDGFjZHSoRrZ2AEO0ONXvjuN4RiCmknXf8\n//Maps API: AIzaSyDGFjZHSoRrZ2AEO0ONXvjuN4RiCmknXf8\n\nconst styles = theme => ({\n    content: {\n        margin: theme.spacing(1)\n    },\n    autocomplete:{\n        width: '200px',\n        height: '40px',\n        fontSize: \"14px\",\n        border: \"0\",\n        borderBottom: \"2px solid grey\",\n        outline:\"0\",\n        marginBottom: \"4px\"\n    }\n});\n\nvar markerData = {};\nfunction CustomMap({classes, locationData, setLocationData, mapHeight, selectedParkingCallback, changedParkingMarkerCallback, addParkingCallback}){\n\n\n    CustomMap.propTypes = {\n        locationData: PropTypes.object,\n        setLocationData: PropTypes.func,\n        mapHeight: PropTypes.number\n    };\n\n\n\n    var parkingIcon = 'https://developers.google.com/maps/documentation/javascript/examples/full/images/parking_lot_maps.png';\n\n    Geocode.setApiKey(\"AIzaSyDGFjZHSoRrZ2AEO0ONXvjuN4RiCmknXf8\");\n    Geocode.enableDebug();\n\n\n    function useFunction(callback) {\n        const ref = React.useRef();\n        ref.current = callback;\n\n        return React.useCallback(function() {\n            const callback = ref.current;\n            if (typeof callback === \"function\") {\n                return callback.apply(this, arguments);\n            }\n        }, []);\n    }\n    const selectParkingHandler = useFunction(selectedParkingCallback);\n    const addNewParkingHandler = useFunction(addParkingCallback);\n\n\n    const onPlaceSelected = (place, onMarkerLocationChanged, onParkingDataChanged) => {\n\n        const address = place.formatted_address\n        const addressArray =  place.address_components\n        if(addressArray !== undefined){\n            const city = getCity( addressArray ),\n                country = getCountry(addressArray),\n                latitudeValue = place.geometry.location.lat(),\n                longitudeValue = place.geometry.location.lng();\n\n            onMarkerLocationChanged(latitudeValue, longitudeValue, address, city, country);\n            changeLocationData(city,country,address,latitudeValue,longitudeValue, onParkingDataChanged);\n        }\n    };\n\n    const onMarkerDragEnd = ( event, onMarkerLocationChanged, onParkingDataChanged) => {\n        let newLat = event.latLng.lat(),\n            newLng = event.latLng.lng();\n            geocodeFromLatLng(newLat, newLng, onMarkerLocationChanged, onParkingDataChanged)\n    };\n\n    function geocodeFromLatLng(newLat, newLng, onMarkerLocationChanged, onParkingDataChanged){\n        Geocode.fromLatLng( newLat , newLng ).then(\n            response => {\n                const address = response.results[0].formatted_address\n                const addressArray =  response.results[0].address_components\n                if(addressArray!==undefined){\n                    const city = getCity( addressArray ),\n                        country = getCountry( addressArray );\n\n                    onMarkerLocationChanged(newLat, newLng, address, city, country);\n\n                    changeLocationData(city,country,address,newLat,newLng, onParkingDataChanged);\n                }\n            },\n            error => {\n                console.error(error);\n            }\n        );\n    }\n\n    function geocodeFromAddress(address, onMarkerLocationChanged, onParkingDataChanged){\n        Geocode.fromAddress( address ).then(\n            response => {\n                const { lat, lng } = response.results[0].geometry.location;\n                const address = response.results[0].formatted_address;\n                const addressArray =  response.results[0].address_components;\n                if(addressArray!==undefined){\n                    const city = getCity( addressArray ),\n                        country = getCountry( addressArray );\n\n                    console.log(lat, lng)\n                    onMarkerLocationChanged(lat, lng, address, city, country);\n                        console.log(\"Pateko\")\n                    changeLocationData(city,country,address,lat,lng, onParkingDataChanged);\n                }\n            },\n            error => {\n                console.error(error);\n            }\n        );\n    }\n\n    function changeLocationData(city,country,address,latitude,longitude, onParkingDataChanged) {\n        let data = Object.assign({}, locationData, {});\n        data['city'] = city;\n        data['country'] = country;\n        data['address'] = address;\n        data['latitude'] = latitude;\n        data['longitude'] = longitude;\n        setLocationData(data);\n        markerData = data;\n        if (changedParkingMarkerCallback !== undefined){\n            changedParkingMarkerCallback(city,address,country, latitude,longitude, onParkingDataChanged);\n        }\n    }\n\n    /**\n     * Get the city and set the city input value to the one selected\n     *\n     * @param addressArray\n     * @return {string}\n     */\n    const getCity = ( addressArray ) => {\n        if(addressArray !== undefined){\n            let city = '';\n            for( let i = 0; i < addressArray.length; i++ ) {\n                if ( addressArray[ i ].types[0] && 'administrative_area_level_2' === addressArray[ i ].types[0] ) {\n                    city = addressArray[ i ].long_name;\n                    return city;\n                }\n            }\n        }\n    };\n\n    function getCurrentPosition(onMarkerLocationChanged, onParkingDataChanged){\n        navigator.geolocation.getCurrentPosition(function(position) {\n            let newLat = position.coords.latitude,\n                newLng = position.coords.longitude;\n\n            Geocode.fromLatLng( newLat , newLng ).then(\n                response => {\n                    const address = response.results[0].formatted_address\n                    const addressArray =  response.results[0].address_components\n                    if(addressArray!==undefined){\n                        const city = getCity( addressArray ),\n                            country = getCountry( addressArray );\n\n                        onMarkerLocationChanged(newLat, newLng, address, city, country);\n                        changeLocationData(city,country,address,newLat,newLng, onParkingDataChanged);\n                    }\n                },\n                error => {\n                }\n            );\n            console.log(\"Latitude is :\", position.coords.latitude);\n            console.log(\"Longitude is :\", position.coords.longitude);\n        }, error=>{\n            alert(error.message + \"\\n\" + JSON.stringify(error))\n        });\n    }\n\n    const getCountry = (addressArray) =>{\n        //getCurrentPosition()\n        if(addressArray!=undefined){\n        let country = '';\n        for( let i = 0; i < addressArray.length; i++ ) {\n            if ( addressArray[ i ].types[0] && 'country' === addressArray[ i ].types[0] ) {\n                country = addressArray[ i ].long_name;\n                return country;\n            }\n        }\n        }\n    };\n    /**\n     *\n     * Renders parking data markers\n     *\n     * @param onToggleOpen Method to open marker's info window\n     * @param infoWindows Marker info window\n     * @param parking data\n     * @returns {*}\n     */\n    const markers = (onToggleOpen, infoWindows, parking) =>{\n        return parking.map((location, i) => {\n\n            const latitude = parseFloat(location.latitude);\n            const longitude = parseFloat(location.longitude);\n\n            return (\n                <Marker\n                    key={location.parkingId}\n                    position={{ lat: latitude, lng: longitude}}\n                    options={{icon: parkingIcon}}\n                    onClick={()=>onToggleOpen(location.parkingId)}\n                >\n\n                    {infoWindows[i].showInfo && (\n                        <InfoWindow >\n                            <div style={{display:\"flex\", flexDirection: \"column\"}}>\n                                {location.address}\n                                <Button\n                                    onClick={()=>{selectParkingHandler(location)}}\n                                    variant=\"text\"\n                                    color=\"secondary\"\n                                    size=\"large\"\n                                    className={classes.button}\n                                    startIcon={<AddIcon />}>\n                                    Add parking\n                                </Button>\n                            </div>\n                        </InfoWindow>\n                    )}\n\n                </Marker>\n            )\n        })\n    };\n\n\n    /**\n     * Map component that renders parking data and has draggable marker\n     */\n    const MyMapComponent = compose(\n        withProps({\n            containerElement: <div style={{ height: mapHeight }} />,\n            mapElement: <div style={{ height: `100%` }} />,\n        }),\n        withStateHandlers({\n                infoWindow: {show: false}\n            },{\n            toggleDraggableInfoWindow: ({draggableMarkerLocation}) => (show) => ({\n                infoWindow: {show: show}\n            })\n            }\n        ),\n        withGoogleMap\n    )(props =>\n\n        <GoogleMap\n            defaultZoom={12}\n            center={{lat: props.markerLocation.latitude, lng: props.markerLocation.longitude }}\n            defaultCenter={{ lat: props.markerLocation.latitude, lng: props.markerLocation.longitude }}\n        >\n\n\n\n            <Marker\n                name={'Dolores park'}\n                visible={true}\n                draggable={true}\n                onClick={()=>props.toggleDraggableInfoWindow(true)}\n                onDragEnd={e=>onMarkerDragEnd(e, props.markerChanger, props.onParkingDataChange)}\n                position={{ lat: props.markerLocation.latitude, lng: props.markerLocation.longitude }} >\n\n                {props.infoWindow.show && addParkingCallback && (\n                    <InfoWindow onCloseClick={()=>{props.toggleDraggableInfoWindow(false)}}>\n                        <div style={{display:\"flex\", flexDirection: \"column\"}}>\n                            {props.markerLocation.address}\n                            <Button\n                                onClick={()=>{\n\n                                    addNewParkingHandler(props.markerLocation)\n\n                                }}\n                                variant=\"text\"\n                                color=\"secondary\"\n                                size=\"large\"\n                                className={classes.button}\n                                startIcon={<AddIcon />}>\n                                Add new parking\n                            </Button>\n                        </div>\n                    </InfoWindow>\n                )}\n            </Marker>\n\n            {markers(props.onToggleOpen, props.infoWindows, props.parkingData)}\n        </GoogleMap>\n    );\n\n\n    const handleKeyPress = (event, onMarkerLocationChange, onParkingDataChange) =>{\n        const value = event.target.value;\n        if (event.which === 13 || event.keyCode === 13) {\n            if (/[a-zA-Z]+/.test(value)){\n                geocodeFromAddress(value, onMarkerLocationChange, onParkingDataChange)\n            }else{\n                let position = value.split(/[ ,]+/);\n                if(position.length === 2){\n                    geocodeFromLatLng(parseFloat(position[0]), parseFloat(position[1]), onMarkerLocationChange, onParkingDataChange)\n                }\n            }\n            return false;\n        }\n        return true;\n    };\n\n    /**\n     * Places autocomplete and map. This component holds it's inner states like draggableMarkerLocation, parkingData etc.\n     */\n    const FullMap = compose(\n        withProps(),\n        withStateHandlers({\n            draggableMarkerLocation: {\n                latitude: locationData.latitude,\n                longitude: locationData.longitude,\n                address:  locationData.address\n            },parkingData: [], infoWindows: []\n        },{\n            onMarkerLocationChanged: ({draggableMarkerLocation}) => (newLat, newLng, address, city, country) => ({\n                draggableMarkerLocation: {\n                    latitude: newLat,\n                    longitude: newLng,\n                    address: address,\n                    city: city,\n                    country: country\n                }\n            }),\n                onParkingDataChange: ({parkingData}) => (parking) => ({\n                    parkingData: parking.map(row=>{\n                        return row\n                    }),\n                    infoWindows: parking.map(p => {\n                        return { parkingId: p.parkingId, showInfo: false };\n                    })\n                }),\n                onToggleOpen: ({ infoWindows }) => selectedIndex => ({\n                    infoWindows: infoWindows.map((iw, i) => {\n                        iw.showInfo = selectedIndex === iw.parkingId;\n                        return iw;\n                    })\n                })\n            }\n            )\n    )(props=>\n        <div className={classes.content}>\n            <Autocomplete\n                onKeyPress={(event)=>{handleKeyPress(event, props.onMarkerLocationChanged, props.onParkingDataChange)}}\n                className={classes.autocomplete}\n                onPlaceSelected={(place)=>{onPlaceSelected(place, props.onMarkerLocationChanged, props.onParkingDataChange)} }\n                types={['(regions)']}\n            />\n            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                <MyLocationIcon\n                    fontSize=\"large\"\n                    color=\"primary\"\n                    onClick={()=>{\n                        getCurrentPosition(props.onMarkerLocationChanged, props.onParkingDataChange)\n                    }}\n\n                />\n            </IconButton>\n\n            <MyMapComponent markerChanger={props.onMarkerLocationChanged}\n                            markerLocation={props.draggableMarkerLocation}\n                            onParkingDataChange={props.onParkingDataChange}\n                            parkingData={props.parkingData}\n                            onToggleOpen={props.onToggleOpen}\n                            infoWindows={props.infoWindows}\n            />\n\n\n        </div>\n    );\n\n    /**\n     * Memoization of a component.\n     */\n    return useMemo(() => {\n        return <FullMap/>;\n    }, [])\n\n    //\n\n}\n\nexport default withStyles(styles)(CustomMap);","import React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CustomMap from \"../CustomMap\";\nimport TextField from \"@material-ui/core/TextField\";\n\n\nconst styles = theme => ({\n    outline: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n        width: '100%'\n    },\n    button: {\n        margin: theme.spacing(2)\n    }\n});\n\nfunction PlaceLocation({locationData, setLocationData}) {\n\n    function changeLocationData(event){\n        const {name, value} = event.target;\n        let data = Object.assign({}, locationData, {});\n        data[name] = value;\n\n        setLocationData(data)\n    }\n\n    return <div>\n        <Typography variant=\"h6\" >\n            Place location\n        </Typography>\n        <br/>\n        <Typography variant=\"subtitle1\" >\n            Select place location from map\n        </Typography>\n        <br/>\n        <CustomMap mapHeight={200}\n                   locationData={locationData}\n                   setLocationData={setLocationData}\n        />\n        <br/>\n        <br/>\n        <Typography variant=\"subtitle1\" >\n            Place location\n        </Typography>\n        <br/>\n        <TextField\n            required\n            label=\"Address\"\n            style={{ margin: 8 }}\n            placeholder=\"Enter place address\"\n            fullWidth\n            disabled\n            value={locationData['address']}\n            name='address'\n            onChange={e=>{changeLocationData(e)}}\n            variant=\"outlined\"\n            margin=\"normal\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n        <TextField\n            required\n            label=\"City\"\n            disabled\n            style={{ margin: 8 }}\n            placeholder=\"Enter place city\"\n            fullWidth\n            value={locationData['city']}\n            name='city'\n            onChange={e=>{changeLocationData(e)}}\n            variant=\"outlined\"\n            margin=\"normal\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n        <TextField\n            required\n            label=\"Country\"\n            style={{ margin: 8 }}\n            placeholder=\"Enter place country\"\n            fullWidth\n            disabled\n            value={locationData['country']}\n            name='country'\n            onChange={e=>{changeLocationData(e)}}\n            variant=\"outlined\"\n            rows={4}\n            margin=\"normal\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n    </div>\n}\n\nexport default withStyles(styles)(PlaceLocation)","import React, {useCallback, useEffect, useRef, useState} from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CustomMap from \"../CustomMap\";\nimport API from \"../../Networking/API\";\nimport {arrayMove, SortableContainer, SortableElement} from 'react-sortable-hoc';\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport UseSnackbarContext from \"../../contexts/UseSnackbarContext\";\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = theme => ({\n    outline: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n        width: '100%'\n    },\n    button: {\n        margin: theme.spacing(2)\n    },\n    paper:{\n        padding: theme.spacing(2),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        marginTop: \"8px\"\n    },\n});\n\nfunction ParkingLocation({classes, parkingMarkerData, setParkingMarkerData, allSelectedParkingData, setAllSelectedParkingData}) {\n    const { addConfig } = UseSnackbarContext();\n\n    const onSortEnd = ({oldIndex, newIndex}) => {\n        setAllSelectedParkingData(arrayMove(allSelectedParkingData,oldIndex, newIndex))\n    };\n\n    function changedParkingMarkerCallback(city,address,country,lat,lng, parkingDataChanged) {\n        getClosestParking(parseFloat(lat),parseFloat(lng), parkingDataChanged);\n    }\n\n\n\n    function addNewParking(markerData){\n        if(!parkingExists(markerData)){\n            API.Parking.insertNewParking([markerData]).then(response=>{\n                setAllSelectedParkingData(oldArray=> [...oldArray, response[0]]);\n                addConfig(true)\n            }).catch(error=>{\n                addConfig(false)\n            })\n        }\n    }\n\n    function parkingExists(markerData){\n        for(let i = 0; i<allSelectedParkingData.length; i++){\n            if(allSelectedParkingData[i].address === markerData.address) return true;\n        }\n        return false\n    }\n\n    const getClosestParking = (lat, lng, parkingDataChanged)=>{\n        API.Parking.getParkingByLocation(\"?lat=\"+lat+\"&lng=\"+lng).then(response=>{\n            let placesData = [];\n            console.log(\"ParkingData\", response)\n            response.map(row => {\n                placesData.push(row)\n            });\n            parkingDataChanged(response);\n        }).catch(error=>{\n        })\n    };\n\n    const SortableItem = SortableElement(({value}) => (\n        <Paper className={classes.paper} elevation={3}>\n            <Typography>\n                {value.address}\n            </Typography>\n            <IconButton aria-label=\"delete\" className={classes.margin}\n                        onClick={()=>setAllSelectedParkingData(allSelectedParkingData.filter((item) => item.parkingId !== value.parkingId))}>\n                <DeleteIcon fontSize=\"small\" />\n            </IconButton>\n        </Paper>\n    ));\n\n    useEffect(()=>{\n        getClosestParking(parkingMarkerData.lat, parkingMarkerData.lng)\n    },[]);\n\n    const SortableList = SortableContainer(({items}) => {\n        return (\n            <ul>\n                {items.map((value, index) => (\n                <SortableItem key={index} index={index} value={value} />\n                ))}\n            </ul>\n        );\n    });\n\n    return <div>\n        <Typography variant=\"h6\" >\n            Add parking\n        </Typography>\n        <br/>\n        <Typography variant=\"subtitle1\" >\n            Select parking\n        </Typography>\n        <CustomMap mapHeight={350}\n                   locationData={parkingMarkerData}\n                   setLocationData={setParkingMarkerData}\n                   selectedParkingCallback={(location)=>{\n                       if(!parkingExists(location))\n                           setAllSelectedParkingData(oldArray=> [...oldArray, location])\n                       }}\n                   changedParkingMarkerCallback={changedParkingMarkerCallback}\n                   addParkingCallback={addNewParking}\n\n        />\n        <br/>\n        <Typography variant=\"subtitle1\" >\n            Selected parking locations\n        </Typography>\n\n        <SortableList distance={10} items={allSelectedParkingData} onSortEnd={onSortEnd} />\n\n    </div>\n}\n\nexport default withStyles(styles)(ParkingLocation)","import PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport React, {useState} from \"react\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst styles = theme => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(2),\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n});\n\nfunction AddDialog(props){\n\n    function validateInput(){\n        var error = false;\n        if(text.length <= 3)\n            error = true\n        setError(error)\n        return error\n    }\n\n    let {classes, open, onCloseCallback, header, description, textFieldLabel, action} = props\n    const [text, setText] = useState(\"\")\n    const [error, setError] = useState(false)\n    return(\n        <div>\n            <Dialog /*onClose={handleClose}*/ aria-labelledby=\"customized-dialog-title\" open={open} fullWidth={true}>\n                <DialogTitle id=\"customized-dialog-title\" /*onClose={handleClose}*/>\n                    {header}\n                </DialogTitle>\n                <DialogContent dividers>\n                    <TextField error={error} onChange = {(ev) => {setText(ev.target.value)}}label={textFieldLabel} variant=\"outlined\" fullWidth />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={onCloseCallback} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button autoFocus color=\"primary\" onClick={() => {\n                        !validateInput() && action(text)\n                    }}>\n                        Add\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nAddDialog.propTypes = {\n    classes: PropTypes.object.isRequired,\n    open: PropTypes.bool.isRequired,\n    action: PropTypes.func.isRequired,\n    onCloseCallback: PropTypes.func.isRequired\n};\nexport default withStyles(styles)(AddDialog)\n","import React, {useEffect, useState} from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AutocompleteChip from \"../AutocompleteChip\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddDialog from \"../AddDialog\";\nimport API from \"../../Networking/API\";\n\n\nconst styles = theme => ({\n    outline: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n        width: '100%'\n    },\n    button: {\n        margin: theme.spacing(2)\n    },\n    paper:{\n        padding: theme.spacing(2),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        marginTop: \"8px\"\n    },\n});\n\nfunction PlaceDiscovery({classes, selectedTags, setSelectedTags, selectedCategories, setSelectedCategories}) {\n\n    const [dialogAddTagOpen, setDialogAddTagOpen] = useState(false);\n    const [dialogAddCategoryOpen, setDialogAddCategoryOpen] = useState(false);\n\n    const [availableCategories, setAvailableCategories] = useState([]);\n    const [availableTags, setAvailableTags] = useState([]);\n\n\n    const updateTags = () => {\n        API.Tags.getAllTags().then(response=>{\n            setAvailableTags(response);\n            console.log(response);\n        }).catch(error=>{\n            console.log(error)\n        })\n    };\n    const updateCategories = () => {\n        API.Categories.getAllCategories().then(response=>{\n            setAvailableCategories(response)\n            console.log(response);\n        }).catch(error=>{\n            console.log(error)\n        });\n    };\n\n    useEffect(()=>{\n        updateTags();\n        updateCategories();\n    },[]);\n\n    const handleAddCategory = (value) => {\n        API.Categories.addCategory([{name: value}]).then(response=>{\n            let newCat = {categoryId: response[0], name: value};\n            setAvailableCategories(\n                [\n                    ...availableCategories,\n                    newCat\n                ]\n            );\n            setSelectedCategories([\n                ...selectedCategories,\n                newCat\n            ]);\n            setDialogAddCategoryOpen(false)\n\n        }).catch(error=>{\n            console.log(error)\n        })\n    };\n\n\n\n    const handleAddTag = (value) => {\n        API.Tags.addTag([{name: value}]).then(response=>{\n            let newTag = {tagId: response[0], name: value}\n            setAvailableTags(\n                [\n                    ...availableTags,\n                    newTag\n                ]\n            );\n            setSelectedTags([\n                ...selectedTags,\n                newTag\n            ]);\n            setDialogAddTagOpen(false)\n\n        }).catch(error=>{\n            console.log(error)\n        })\n    };\n\n    return <div>\n        <Typography variant=\"h6\" >\n            Place discovery settings\n        </Typography>\n        <br/>\n        <Typography variant=\"subtitle1\" >\n            Select tags\n        </Typography>\n        <AutocompleteChip label=\"Select tags\"\n                          id=\"tagId\"\n                          options={availableTags}\n                          setOptions={setAvailableTags}\n                          selectedOptions={selectedTags}\n                          setSelectedOptions ={setSelectedTags}/>\n\n        <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => setDialogAddTagOpen(true)}\n            startIcon={<AddIcon />}>\n            Add missing tag\n        </Button>\n        <AddDialog action={handleAddTag} textFieldLabel=\"Name\" open={dialogAddTagOpen} onCloseCallback={() => setDialogAddTagOpen(false)} header = \"Add a new tag\" />\n\n        <br/>\n        <br/>\n        <Typography variant=\"subtitle1\" >\n            Select categories\n        </Typography>\n        <AutocompleteChip label=\"Select categories\"\n                          id=\"categoryId\"\n                          options={availableCategories}\n                          setOptions={setAvailableCategories}\n                          selectedOptions={selectedCategories} \n                          setSelectedOptions={setSelectedCategories}/>\n        <Button\n            variant=\"text\"\n            color=\"primary\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => setDialogAddCategoryOpen(true)}\n            startIcon={<AddIcon />}>\n            Add missing category\n        </Button>\n        <AddDialog action={handleAddCategory}\n                   textFieldLabel=\"Name\"\n                   open={dialogAddCategoryOpen}\n                   onCloseCallback={() => setDialogAddCategoryOpen(false)}\n                   header = \"Add a new category\" />\n    </div>\n}\n\nexport default withStyles(styles)(PlaceDiscovery)","const initialScheduleData = [\n    {\n        \"isDefault\": true,\n        \"periods\": [\n            {\n                openDay: 0,\n                closeDay: 0,\n                openTime: \"08:00\",\n                closeTime: \"17:00\"\n            },\n            {\n                openDay: 1,\n                closeDay: 1,\n                openTime: \"08:00\",\n                closeTime: \"17:00\"\n            },\n            {\n                openDay: 2,\n                closeDay: 2,\n                openTime: \"08:00\",\n                closeTime: \"17:00\"\n            },\n            {\n                openDay: 3,\n                closeDay: 3,\n                openTime: \"08:00\",\n                closeTime: \"17:00\"\n            },\n            {\n                openDay: 4,\n                closeDay: 4,\n                openTime: \"08:00\",\n                closeTime: \"17:00\"\n            }\n        ]\n    }\n]\n\nexport default initialScheduleData","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport moment from \"moment\";\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 275,\n        width: \"20%\",\n        padding: \"2px\",\n        marginRight: \"16px\"\n    },\n\n});\nexport default function ReviewCard({review}) {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.root} variant=\"outlined\">\n            <CardContent>\n                <div style={{display: \"flex\"}} >\n                    <Avatar alt=\"Cindy Baker\" src={!!review.photoUrl ? review.photoUrl : \"/broken-image.jpg\"} />\n                    <div style={{display: \"flex\", flexDirection: \"column\", marginLeft:\"8px\"}}>\n                        <Typography title=\"subtitle1\">\n                            {review.name} {review.surname}\n                        </Typography>\n                        <div style={{display: \"flex\", justifyContent: \"space-between\"}}>\n                            <Rating size=\"small\" name=\"read-only\" value={review.rating} readOnly />\n                            <Typography title=\"subtitle1\">\n                                {\"+\" + review.upvotes}\n                            </Typography>\n                        </div>\n                    </div>\n                </div>\n                <Typography title=\"subtitle1\">\n                    {moment(review.timeAdded).format('LL')}\n                </Typography>\n                <div style={{marginTop: \"16px\"}}>\n                    {review.title}\n                </div>\n                <Typography title=\"subtitle1\">\n                        {review.review}\n                </Typography>\n\n            </CardContent>\n        </Card>\n    );\n}\n\n","import React, {useEffect, useState} from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Rating from '@material-ui/lab/Rating';\nimport ReviewCard from \"../ReviewCard\";\nimport API from \"../../Networking/API\";\nimport debounce from \"lodash/debounce\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Popover from \"@material-ui/core/Popover\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\n\nconst styles = theme => ({\n    reviewsInfo:{\n        display: \"flex\",\n    },\n    reviews:{\n        display: \"flex\",\n        width: \"100%\",\n        margin: theme.spacing(2),\n        overflowX: \"scroll\"\n    },\n    sortingButtons: {\n        padding: theme.spacing(2)\n    }\n});\n\nfunction Reviews({classes, placeInfo}) {\n\n    const [reviews, setReviews] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [page, setPage] = useState(1);\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n\n    const [filterBy, setFilterBy] = useState('mostRated');\n\n    function getReviewsForPlace(urlParams = \"?p=\"+placeInfo.placeId) {\n        API.Reviews.getPlaceReviews(urlParams).then(response=>{\n            setReviews(old=>[...old, ...response.list]);\n            setIsLoading(false)\n        }).catch(error=>{\n            setIsLoading(false)\n        })\n    }\n\n    //Get ordered by new filter\n    useEffect(()=>{\n            getReviewsForPlace(\"?p=\"+placeInfo.placeId+\"&page=1&o=\"+filterBy)\n    },[filterBy]);\n\n\n    const handleScrollDebounced = (e) => {\n        const scrollOffset = 0;\n        const bottom = Math.round(e.target.scrollWidth - e.target.scrollLeft - scrollOffset)  <= e.target.clientWidth;\n        if (bottom && !isLoading && reviews.length>0 && reviews.length<placeInfo.totalReviews) {\n            setIsLoading(true);\n            setPage(old=>{\n                getReviewsForPlace(\"?p=\"+placeInfo.placeId+\"&page=\"+(old+1)+\"&o=\"+filterBy);\n                return old+1\n            });\n        }\n    };\n\n    const debounceScroll = debounce(e => handleScrollDebounced(e), 200);\n\n    const handleScroll = (e) => {\n        e.persist();\n        debounceScroll(e)\n    };\n\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n\n    function changeSorting(e){\n        const {name, value} = e.target;\n        setFilterBy(value);\n        setReviews([]);\n        setPage(1);\n        handleClose()\n    }\n\n\n    return <div>\n        <Typography variant=\"h6\" >\n            Reviews\n            <br/>\n            {\n               reviews.length > 0 ?\n                   <React.Fragment>\n                       <div style={{display:\"flex\", justifyContent: \"space-between\"}}>\n                           <div className={classes.reviewsInfo}>\n                               <Rating name=\"read-only\" value={placeInfo.overallStarRating} precision={0.2} readOnly />\n                               <Typography style={{marginLeft:\"8px\"}} variant=\"subtitle1\">\n                                   {placeInfo.totalReviews} reviews\n                               </Typography>\n                           </div>\n                           <Tooltip aria-describedby={id} title=\"Filter list\">\n                               <IconButton  aria-label=\"filter list\" onClick={handleClick}>\n                                   <FilterListIcon />\n                               </IconButton>\n                           </Tooltip>\n                           <Popover\n                               id={id}\n                               open={open}\n                               anchorEl={anchorEl}\n                               onClose={handleClose}\n                               anchorOrigin={{\n                                   vertical: 'bottom',\n                                   horizontal: 'center',\n                               }}\n                               transformOrigin={{\n                                   vertical: 'top',\n                                   horizontal: 'center',\n                               }}\n                           >\n                               <RadioGroup className={classes.sortingButtons} aria-label=\"gender\" value={filterBy} name=\"gender1\"  onChange={changeSorting}>\n                                   <FormControlLabel value=\"mostRated\" control={<Radio />} label=\"Most rated\" />\n                                   <FormControlLabel value=\"newest\" control={<Radio />} label=\"Newest\" />\n                               </RadioGroup>\n                           </Popover>\n                       </div>\n\n                       <div style={{display: \"flex\", justifyContent: \"space-between\"}}>\n                           <Typography>\n                               Showing: {reviews.length} out of {placeInfo.totalReviews}\n                           </Typography>\n                           <Typography>\n                               Sorting by: {filterBy}\n                           </Typography>\n                       </div>\n                       <div className={classes.reviews} onScroll={e=>handleScroll(e)}>\n                           {reviews.map(row=>{\n                               return <ReviewCard review={row}/>\n                           })}\n                       </div>\n                   </React.Fragment> : <Typography> No reviews for this place</Typography>\n            }\n\n        </Typography>\n        <br/>\n        {isLoading ? <LinearProgress/> : null }\n    </div>\n}\n\nexport default withStyles(styles)(Reviews)","import React, { useState } from 'react';\n\nexport const AppBarTitleContext = React.createContext({\n    title: \"\",\n    setTitle: () => {},\n});\n\nexport default function AppBarTitleProvider({ children }) {\n    const [title, setTitle] = useState(\"Home\");\n\n    const contextValue = {\n        title,\n        setTitle: (title) => setTitle(title)\n    };\n\n    return (\n        <AppBarTitleContext.Provider value={contextValue}>\n            {children}\n        </AppBarTitleContext.Provider>\n    );\n}","import React, {useContext} from \"react\";\nimport {AppBarTitleContext} from \"./AppBarTitleContext\";\n\nexport default function UseAppBarTitleContext() {\n    const { title, setTitle } = useContext(AppBarTitleContext);\n    return { title, setTitle };\n}\n","import PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport React, {useEffect, useState} from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport { TimePicker } from \"@material-ui/pickers\";\nimport moment from \"moment\";\nimport WarningIcon from '@material-ui/icons/Warning';\nimport Moment from \"react-moment\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\n\nconst styles = theme => ({\n    root: {\n        display: \"flex\",\n        justifyContent : \"space-between\",\n        margin: theme.spacing(0.5),\n        // padding: theme.spacing(0.5),\n        alignItems: \"center\",\n        flexFlow: \"row wrap\"\n    },\n    picker: {\n        margin: theme.spacing(0.5),\n        width: \"30%\"\n    },\n    intervalRightSide: {\n        display: \"flex\",\n        // width: \"100%\",\n        // justifyContent : \"space-between\",\n        alignItems: \"center\",\n    },\n    intervalLeftSide: {\n    }\n});\n\nfunction ScheduleInterval({classes, intervals, index, setIntervals}){\n\n    let currentInterval = intervals[index]\n\n    const [lastAccommodationEnabled, setLastAccommodationEnabled] = useState(currentInterval.lastAccommodation != null)\n    const [lastAccommodationTime, setLastAccommodationTime] = useState(currentInterval.lastAccommodation == null ? currentInterval.closeTime : currentInterval.lastAccommodation)\n\n    const getCloseDay = (closeTime, openTime) => {\n        let currentPeriod = intervals[index]\n        if(moment(closeTime, \"HH:mm\").isBefore(moment(openTime, \"HH:mm\")))\n            return (currentPeriod.openDay + 1) > 6 ? 0 : (currentPeriod.openDay +1)\n        else return currentPeriod.openDay\n    }\n\n    let handleUpdateOpenTime = (value) => {\n        setIntervals((oldIntervals) => {\n            return oldIntervals.map((item, i) => {\n                if(index === i){\n                    return {\n                        ...item,\n                        openTime: moment(value).format(\"HH:mm\").toString(),\n                        closeDay: getCloseDay(item.closeTime, value)\n                    }\n                }else return item\n            })\n        })\n    }\n    let handleUpdateCloseTime = (value) => {\n        setIntervals((oldIntervals) => {\n            return oldIntervals.map((item, i) => {\n                if(index === i){\n                    return {\n                        ...item,\n                        closeTime: moment(value).format(\"HH:mm\").toString(),\n                        closeDay: getCloseDay(value, item.openTime)\n                    }\n                }else return item\n            })\n\n        })\n    }\n\n    const handleDelete = () => {\n        setIntervals(oldIntervals => {\n            return oldIntervals.filter((item, i) => i !== index)\n        })\n    }\n\n    useEffect(() => {\n        setIntervals((oldIntervals) => {\n            return oldIntervals.map((item, i) => {\n                if(index === i){\n                    return {\n                        ...item,\n                        lastAccommodation: lastAccommodationEnabled ? lastAccommodationTime.toString() : null\n                    }\n                }else return item\n            })\n\n        })\n    }, [lastAccommodationTime, lastAccommodationEnabled])\n\n    const theme = useTheme();\n    const largeScreen = useMediaQuery(theme.breakpoints.only('lg'));\n\n    return(\n        <div className={classes.root}>\n            <div className={classes.intervalLeftSide}>\n                <TimePicker\n                    margin=\"normal\"\n                    ampm={false}\n                    label=\"Opens\"\n                    className={classes.picker}\n                    format=\"HH:mm\"\n                    value={moment(currentInterval.openTime, \"HH:mm\")}\n                    onChange={handleUpdateOpenTime}\n                    InputProps={{\n                        disableUnderline: true,\n                    }}\n                />\n                <TimePicker\n                    margin=\"normal\"\n                    ampm={false}\n                    className={classes.picker}\n                    label=\"Closes\"\n                    format=\"HH:mm\"\n                    value={moment(currentInterval.closeTime, \"HH:mm\")}\n                    onChange={handleUpdateCloseTime}\n                    InputProps={{\n                        disableUnderline: true,\n                    }}\n                />\n\n                {intervals[index].closeDay !== intervals[index].openDay &&\n                    <React.Fragment>\n                        <Typography variant=\"subtitle1\">\n                            <WarningIcon style={{marginRight: \"10px\"}}/>\n                            Closes the next day\n                        </Typography>\n                    </React.Fragment>}\n\n                {!largeScreen &&\n                <Button color=\"primary\" onClick={handleDelete}>\n                    <DeleteOutlineIcon/>\n                </Button>\n                }\n            </div>\n\n            <div className={classes.intervalRightSide}>\n\n                <Checkbox checked={lastAccommodationEnabled} onChange={() => setLastAccommodationEnabled(state => !state)} />\n\n                <TimePicker\n                    margin=\"normal\"\n                    ampm={false}\n                    label=\"Last accommodation\"\n                    format=\"HH:mm\"\n                    disabled={!lastAccommodationEnabled}\n                    value={moment(lastAccommodationTime.toString(), \"HH:mm\")}\n                    onChange={(value) => setLastAccommodationTime(moment(value).format(\"HH:mm\").toString())}\n                    InputProps={{\n                        disableUnderline: true,\n                    }}\n                />\n\n                {largeScreen &&\n                    <Button color=\"primary\" onClick={handleDelete}>\n                    <DeleteOutlineIcon/>\n                    </Button>\n                }\n\n            </div>\n        </div>\n    )\n}\n\nScheduleInterval.propTypes = {\n    classes: PropTypes.object.isRequired,\n    intervals: PropTypes.array.isRequired,\n    setIntervals: PropTypes.func.isRequired,\n    index: PropTypes.number.isRequired,\n};\n\nexport default withStyles(styles)(ScheduleInterval)\n","import PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport React, {useEffect, useState} from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ScheduleInterval from \"./ScheduleInterval\";\nimport Divider from \"@material-ui/core/Divider\";\n\nconst styles = theme => ({\n    header: {\n        display: \"flex\",\n        justifyContent : \"space-between\"\n    },\n    root: {\n        margin: theme.spacing(0.5),\n        padding: theme.spacing(0.5)\n    }\n});\n\nfunction DayComponent({classes, scheduleData, setScheduleData, openDay, onChange}){\n\n    let [intervals, setIntervals] = useState(scheduleData.periods.filter(item => item.openDay === openDay))\n\n    useEffect(() => {\n        onChange(intervals, openDay)\n        console.log(intervals)\n    }, [intervals])\n\n    let weekDays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\n\n    const handleAddPeriod = () => {\n        setIntervals(oldIntervals => {\n            return [\n                ...oldIntervals,\n                {openDay: openDay, closeDay: openDay, openTime: \"08:00\", closeTime: \"18:00\"}\n            ]\n        })\n    }\n\n    return(\n        <div className={classes.root}>\n            <div className={classes.header}>\n                <Typography variant=\"h6\" >\n                    {weekDays[openDay]}\n                </Typography>\n                <Button color=\"secondary\" onClick={handleAddPeriod}>\n                    <AddIcon/>\n                </Button>\n            </div>\n\n            {intervals.map((value, index) => {\n                return <React.Fragment>\n                    <Divider variant=\"middle\" />\n                    <ScheduleInterval index={index} intervals={intervals} setIntervals={setIntervals}/>\n                </React.Fragment>\n            })}\n\n        </div>\n    )\n}\n\nDayComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    scheduleData: PropTypes.object.isRequired,\n    setScheduleData: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DayComponent)\n","import PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, {useEffect, useState} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport RemoveIcon from \"@material-ui/icons/Remove\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {DatePicker, MuiPickersUtilsProvider} from '@material-ui/pickers';\nimport Divider from \"@material-ui/core/Divider\";\nimport DayComponent from \"./DayComponent\";\nimport moment from \"moment\";\n\nconst styles = theme => ({\n    header: {\n        display: \"flex\",\n        justifyContent : \"space-between\"\n    },\n    root: {\n        padding: theme.spacing(2),\n        margin: theme.spacing(1)\n    },\n    pickerStyle: {\n        margin: theme.spacing(1)\n    },\n    headerLeft: {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"left\"\n    }\n});\n\nfunction Schedule({classes, data, setData, index}){\n\n    const[periods, setPeriods] = useState([...data.periods])\n\n    const handleIntervalChange = (newIntervals, openDay) => {\n        setPeriods(oldPeriods => {\n            let filtered = oldPeriods.filter(item => item.openDay !== openDay)\n            if(newIntervals.length === 0)\n                return [...filtered]\n            return [\n                ...filtered,\n                ...newIntervals\n            ]\n        })\n    }\n\n    useEffect(() => {\n        setData(oldData => {\n            return oldData.map((schedule, i) => {\n                if( i === index){\n                    return {...schedule, periods: periods}\n                }else return schedule\n            })\n        })\n    }, [periods])\n\n    const generateWeekdayViews = () => {\n        let views = []\n        for(let i =0; i < 7; i++){\n            views.push(<DayComponent scheduleData={data} onChange={handleIntervalChange} setScheduleData={setData} openDay={i} key={i}/>)\n        }\n        return views\n    }\n\n    const updateFromTime = (value) => {\n        setData(oldData => {\n            return oldData.map((schedule, i) => {\n                if( i === index){\n                    return {...schedule, from: moment(value).format('MM-DD').toString()}\n                }else return schedule\n            })\n        })\n    }\n    const updateToTime = (value) => {\n        setData(oldData => {\n            return oldData.map((schedule, i) => {\n                if( i === index){\n                    return {...schedule, to: moment(value).format('MM-DD').toString()}\n                }else return schedule\n            })\n        })\n    }\n    const removeSchedule = () => {\n        setData(oldData => {\n            return oldData.filter((item, i) => index !== i)\n        })\n    }\n\n    return(\n        <Paper className={classes.root}>\n            <div className={classes.header}>\n                <div className={classes.headerLeft}>\n                    {data.isDefault &&\n                    <Typography variant=\"h6\" >\n                        Date: Year round\n                    </Typography>}\n                    {!data.isDefault &&\n                        <React.Fragment>\n                            <DatePicker\n                                className={classes.pickerStyle}\n                                views={[\"month\", \"date\"]}\n                                label=\"From\"\n                                value={moment(data.from, \"MM-DD\")}\n                                onChange={updateFromTime}\n                            />\n                            <DatePicker\n                                className={classes.pickerStyle}\n                                views={[\"month\", \"day\"]}\n                                label=\"To\"\n                                value={moment(data.to, \"MM-DD\")}\n                                onChange={updateToTime}\n                            />\n                        </React.Fragment>\n                    }\n                </div>\n                {!data.isDefault &&\n                <Button color=\"secondary\" onClick = {removeSchedule}>\n                    <RemoveIcon/>\n                </Button>}\n\n            </div>\n            <br/>\n            {generateWeekdayViews()}\n        </Paper>\n    )\n}\n\nSchedule.propTypes = {\n    classes: PropTypes.object.isRequired,\n    data: PropTypes.object.isRequired,\n    setData: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(Schedule)\n","import PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, {useEffect, useState} from \"react\";\nimport AddIcon from '@material-ui/icons/Add';\nimport Button from \"@material-ui/core/Button\";\nimport Schedule from \"../Schedule\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {TimePicker} from \"@material-ui/pickers\";\nimport moment from \"moment\";\n\nconst styles = theme => ({\n    header: {\n        display: \"flex\",\n        justifyContent : \"space-between\",\n        flexWrap: \"wrap\"\n    }\n});\n\nfunction SchedulesWrapper({classes, scheduleData, setScheduleData, isScheduleEnabled, setIsScheduleEnabled}){\n\n    const addSchedule = () => {\n        setScheduleData(oldData => {\n            return [\n                ...oldData,\n                {isDefault: false, from: \"01-01\", to: \"01-02\", periods : []}\n            ]\n        })\n    }\n\n    return(\n        <div>\n            <div className={classes.header}>\n                <Typography variant=\"h6\" >\n                    Working schedule\n                </Typography>\n                <FormControlLabel\n                    control={\n                        <Switch\n                            checked={isScheduleEnabled}\n                            onChange={() => setIsScheduleEnabled(state => !state)}\n                            color=\"primary\"\n                        />\n                    }\n                    label=\"Enable schedule for this place?\"\n                />\n            </div>\n            <br/>\n            {isScheduleEnabled &&\n                <React.Fragment>\n                    {scheduleData.map((value, index) => {\n                        return <Schedule data={value} index={index} setData={setScheduleData}/>\n                    })}\n                    <Button style={{float: \"right\"}}color=\"secondary\" onClick={addSchedule}>\n                        <AddIcon/>\n                    </Button>\n                </React.Fragment>}\n        </div>\n    )\n}\n\nSchedulesWrapper.propTypes = {\n    classes: PropTypes.object.isRequired,\n    scheduleData: PropTypes.array.isRequired,\n    setScheduleData: PropTypes.func.isRequired,\n    isScheduleEnabled: PropTypes.object.isRequired,\n    setIsScheduleEnabled: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(SchedulesWrapper)\n","import React, {useEffect, useState} from \"react\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport PropTypes, {func} from \"prop-types\";\nimport {Paper} from '@material-ui/core';\nimport BasicPlaceInfo from \"../components/add_place_components/BasicPlaceInfo\";\nimport PhotosInfo from \"../components/add_place_components/PhotosInfo\";\nimport PlaceLocation from \"../components/add_place_components/PlaceLocation\";\nimport ParkingLocation from \"../components/add_place_components/ParkingLocation\";\nimport PlaceDiscovery from \"../components/add_place_components/PlaceDiscovery\";\nimport initialScheduleData from \"../components/add_place_components/initialScheduleData\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport API from \"../Networking/API\";\nimport UseSnackbarContext from \"../contexts/UseSnackbarContext\";\nimport UseAlertDialogContext from \"../contexts/UseAlertDialogContext\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport Strings from \"../helpers/stringResources\";\nimport green from \"@material-ui/core/colors/green\";\nimport Reviews from \"../components/add_place_components/Reviews\";\nimport UseAppBarTitleContext from \"../contexts/UseAppBarTitleContext\";\nimport Schedule from \"../components/add_place_components/SchedulesWrapper\";\nimport SchedulesWrapper from \"../components/add_place_components/SchedulesWrapper\";\n\nconst styles = theme => ({\n    button: {\n        margin: theme.spacing(2)\n    },\n    paperContent: {\n        marginTop: theme.spacing(4),\n        [theme.breakpoints.down(\"lg\")]: {\n            width: \"95%\",\n            padding: theme.spacing(2),\n        },\n        [theme.breakpoints.up(\"lg\")]: {\n            width: \"70%\",\n            padding: theme.spacing(4),\n        },\n    },\n    root:{\n        height:\"100vh\"\n    },\n    loader:{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100vw\",\n        height: \"100vh\"\n    },\n    content:{\n        display:\"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        height:`calc(93vh - 64px)`,\n        [theme.breakpoints.down(\"lg\")]: {\n            width: \"100%\",\n            padding: theme.spacing(1),\n        },\n        [theme.breakpoints.up(\"lg\")]: {\n            width: \"auto\",\n            padding: theme.spacing(8),\n        },\n        overflowY: \"auto\"\n    },\n    bottom:{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        padding: theme.spacing(1),\n        height: \"7vh\"\n    }\n});\n\n\nfunction AddPlace({classes, match}){\n    const [placeInfo, setPlaceInfo] = useState({placeId: \"\",\n        name: \"\", description: \"\",website: \"\", phoneNumber: \"\",\n        hasSchedule: false, isPublic: false, isVerified: true, overallStarRating: 0, totalReviews: 0,\n        source: \"\", price: \"\", averageTimeSpent: \"0\"});\n\n\n    const [selectedTags, setSelectedTags] = useState([]);\n    const [selectedCategories, setSelectedCategories] = useState([]);\n\n    const [photos, setPhotos] = useState([]);\n\n    const [locationData, setLocationData] = useState({city: '', address: '', country: '', latitude: 54.687157, longitude: 25.279652});\n    const [parkingMarkerData, setParkingMarkerData] = useState({city: '', address: '', country: '', latitude: 54.687157, longitude: 25.279652});\n    const [allSelectedParkingData, setAllSelectedParkingData] = useState([]);\n\n    const [sources, setSources] = useState([]);\n\n    const [scheduleData, setScheduleData] = useState(initialScheduleData);\n    const [isScheduleEnabled, setIsScheduleEnabled] = useState(false);\n\n    const [placeId, setPlaceId] = useState(match.params.placeId);\n\n    const [firstTimeLoading, setFirstTimeLoading] = useState(true);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const [error, setError] = useState({name: false});\n    const [checkErrors, setCheckErrors] = useState(false);\n\n\n    const { addConfig } = UseSnackbarContext();\n    const { addAlertConfig } = UseAlertDialogContext();\n\n    const { title, setTitle } = UseAppBarTitleContext();\n\n    const ColorButton = withStyles((theme) => ({\n        root: {\n            color: theme.palette.getContrastText(green[500]),\n            backgroundColor: green[500],\n            '&:hover': {\n                backgroundColor: green[700],\n            },\n        },\n    }))(Button);\n\n    useEffect(()=>{\n        console.log(placeId)\n        //Loaded place for editing\n        if(placeId!==undefined){\n            console.log(\"Getting place location\");\n            getPlaceInfo()\n        }else{\n            setTitle(\"Add new place\");\n            console.log(\"Came here to add new place\");\n            setFirstTimeLoading(false) //Just loaded add place window\n        }\n\n        //New Place has been just inserted, thus inserting other place info\n        if(placeId!==undefined && firstTimeLoading===false){\n            console.log(\"Just added new place\");\n            Promise.all([\n                updateTagsData(placeId),\n                updateParkingData(placeId),\n                updateCategoriesData(placeId),\n                updatePhotoData(placeId),\n                updateSchedule(placeId),\n                updateSources(placeId)\n            ]).then(responses=>{\n                formFeedback(true, Strings.SNACKBAR_PLACE_INSERTED_SUCCESS)\n            }).catch(error=>{\n                formFeedback(false)\n            })\n        }\n\n    },[placeId]);\n\n    useEffect(()=>{\n        if(firstTimeLoading === false){\n            console.log(\"Making this place public\");\n            updateAll()\n        }\n    },[placeInfo['isPublic']]);\n\n    function getPlaceInfo() {\n        API.Places.getPlaceById(\"?full=true&p=\"+placeId).then(response=>{\n            setAllData(response)\n            setTitle(\"Editing place/\"+response.name);\n        }).catch(error=>{\n            formFeedback(false)\n        })\n    }\n\n    function setAllData(place){\n        console.log(\"Got data:\",place);\n        setPlaceInfo({\n            placeId: place.placeId,\n            name: place.name,\n            description: place.description,\n            website: place.website,\n            phoneNumber: place.phoneNumber,\n            hasSchedule: place.hasSchedule,\n            isPublic: place.isPublic,\n            isVerified: place.isVerified,\n            overallStarRating: place.overallStarRating,\n            totalReviews: place.totalReviews,\n            price: place.price,\n            averageTimeSpent: place.averageTimeSpent\n        });\n\n        setLocationData({city: place.city,\n            address: place.address,\n            country: place.country,\n            latitude: place.latitude,\n            longitude: place.longitude});\n\n        setSources(place.sources);\n        setSelectedTags(place.tags);\n        setSelectedCategories(place.categories);\n        if(place.schedule.length > 0) {\n            setScheduleData([...place.schedule]);\n            setIsScheduleEnabled(true)\n        }else setIsScheduleEnabled(false)\n\n        setAllSelectedParkingData(place.parking);\n        setPhotos(place.photos);\n        setFirstTimeLoading(false)\n    }\n\n    function formFeedback(success, message=Strings.SNACKBAR_ERROR){\n        addConfig(success, message);\n        setIsLoading(false)\n    }\n\n    function errorsExists(){\n        for (let key of Object.keys(error)) {\n            if(error[key] === true)\n                return true\n        }\n        return false\n    }\n\n    function saveChanges(){\n        setCheckErrors(true);\n        if(errorsExists()){\n            addAlertConfig(\"Errors\", \"Make sure you filled required fields\",function () {\n\n            });\n            return\n        }\n\n        if(placeId === undefined){\n            addAlertConfig(Strings.DIALOG_PLACE_INSERT_TITLE,Strings.DIALOG_PLACE_INSERT,function () {\n                setIsLoading(true);\n                insertBasicPlaceInfo()\n            });\n        }else{\n            addAlertConfig(Strings.DIALOG_PLACE_UPDATE_TITLE, Strings.DIALOG_PLACE_UPDATE, function () {\n                setIsLoading(true);\n                updateAll()\n            })\n        }\n    }\n\n    function updateAll(){\n        Promise.all([\n            updatePlaceInfo(),\n            updateTagsData(placeId),\n            updatePhotoData(placeId),\n            updateCategoriesData(placeId),\n            updateParkingData(placeId),\n            updateSchedule(placeId),\n            updateSources(placeId)\n        ]).then(response=>{\n            formFeedback(true, Strings.SNACKBAR_CHANGES_SAVED);\n        }).catch(err=>{\n            formFeedback(false)\n        })\n    }\n\n    function updatePlaceInfo() {\n        console.log(formPlaceInfo());\n        API.Places.updatePlace(formPlaceInfo()).then(response=>{\n\n        }).catch(error=>{\n\n        })\n\n    }\n\n    function insertBasicPlaceInfo(){\n            API.Places.insertPlace(formPlaceInfo()).then(placeId=>{\n                setPlaceId(placeId)\n            }).catch(error=>{\n\n            })\n    }\n\n    function updateParkingData(id) {\n        API.ParkingPlace.updateParkingForPlace(allSelectedParkingData, \"?p=\"+id).then(response=>{\n\n        }).catch(error=>{\n\n        })\n    }\n\n    function updateTagsData(id) {\n        API.TagsPlace.updateTagsForPlace(selectedTags, \"?p=\"+id).then(response=>{\n\n        }).catch(error=>{\n\n        })\n    }\n\n    function updateSources(id) {\n        console.log(\"Hello\")\n        API.SourcePlace.updateSourcesForPlace(sources, \"?p=\"+id).then(response=>{\n            console.log(sources)\n        }).catch(error=>{\n\n        })\n    }\n\n\n    function updateCategoriesData(id) {\n        API.CategoriesPlace.updateCategoriesForPlace(selectedCategories, \"?p=\"+id).then(response=>{\n\n        }).catch(error=>{\n\n        })\n    }\n\n    function updatePhotoData(id) {\n        API.PhotoPlace.updatePhotoForPlace(photos, \"?p=\"+id).then(response=>{\n\n        }).catch(error=>{\n\n        })\n    }\n\n\n    function updateSchedule(id){\n        console.log(scheduleData);\n        API.Schedule.updateScheduleForPlace(isScheduleEnabled ? scheduleData : [], \"?id=\" + id).then(response => {\n        }).catch(er => {\n        })\n\n    }\n\n    function formPlaceInfo(){\n        let d = Object.assign(placeInfo, locationData)\n        console.log(d);\n        return d\n    }\n\n\n    function publishPlace(){\n        addAlertConfig(Strings.DIALOG_PLACE_PUBLISH_TITLE, placeInfo['isPublic'] ? Strings.DIALOG_PLACE_UNPUBLISH_MESSAGE : Strings.DIALOG_PLACE_PUBLISH_MESSAGE, function(){\n            let obj = Object.assign({}, placeInfo, {});\n            obj['isPublic'] = !obj['isPublic'];\n            setPlaceInfo(obj);\n        })\n    }\n\n    function verifyPlace(){\n        addAlertConfig(Strings.DIALOG_PLACE_VERIFY_TITLE, Strings.DIALOG_PLACE_VERIFY_MESSAGE, function(){\n            let obj = Object.assign({}, placeInfo, {});\n            obj['isPublic'] = 1;\n            obj['isVerified'] = 1;\n            setPlaceInfo(obj);\n        })\n    }\n\n    return(\n        <div className={classes.root}>\n            {firstTimeLoading ? <div className={classes.loader}><CircularProgress /></div> : <div className={classes.content}>\n\n\n                <Paper elevation = {4} className={classes.paperContent}>\n                    <BasicPlaceInfo\n                        error={error}\n                        setError={setError}\n                        checkErrors={checkErrors}\n                        placeInfo={placeInfo}\n                        setPlaceInfo={setPlaceInfo}\n                        selectedSources={sources}\n                        setSelectedSources={setSources}\n                    />\n\n                </Paper>\n\n                {placeId !== undefined ?\n                    <Paper elevation = {4} className={classes.paperContent}>\n                        <Reviews\n                            placeInfo={placeInfo}\n                        />\n                    </Paper>\n                    : null}\n\n                <Paper elevation = {4} className={classes.paperContent}>\n                    <PhotosInfo\n                        photos={photos}\n                        setPhotos={setPhotos}\n                    />\n                </Paper>\n                <Paper elevation = {4} className={classes.paperContent}>\n                    <PlaceLocation\n                        error={error}\n                        setError={setError}\n                        checkErrors={checkErrors}\n                        locationData={locationData}\n                        setLocationData={setLocationData}/>\n                </Paper>\n                <Paper elevation = {4} className={classes.paperContent}>\n                    <ParkingLocation\n                        allSelectedParkingData={allSelectedParkingData}\n                        setAllSelectedParkingData={setAllSelectedParkingData}\n                        parkingMarkerData={parkingMarkerData}\n                        setParkingMarkerData={setParkingMarkerData}/>\n                </Paper>\n                <Paper elevation = {4} className={classes.paperContent}>\n                    <PlaceDiscovery\n                        selectedTags={selectedTags}\n                        setSelectedTags={setSelectedTags}\n                        selectedCategories={selectedCategories}\n                        setSelectedCategories={setSelectedCategories}/>\n                </Paper>\n\n                <Paper elevation = {4} className={classes.paperContent}>\n                    <SchedulesWrapper isScheduleEnabled={isScheduleEnabled} setIsScheduleEnabled={setIsScheduleEnabled} setScheduleData={setScheduleData} scheduleData={scheduleData}/>\n                </Paper>\n            </div> }\n\n            {isLoading ? <LinearProgress/> : null}\n\n            <Paper elevation={1} className={classes.bottom}>\n\n                {\n\n                    placeInfo['isVerified'] === false && placeId !== undefined ?\n                        <ColorButton\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={()=>{verifyPlace()}}\n                            className={classes.button}\n                        >\n                            Verify place\n                        </ColorButton>\n                    :\n                    <FormControlLabel\n                    control={<Switch checked={placeInfo['isPublic']} onChange={()=> {\n                        publishPlace()\n                    }\n                    } name=\"isPublic\" />}\n                    label=\"Make this place public\"\n                />}\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={()=>saveChanges()}\n                    className={classes.button}>\n                    Save\n                </Button>\n\n\n            </Paper>\n        </div>)\n\n}\n\nAddPlace.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(AddPlace)\n\n\n","import withStyles from \"@material-ui/core/styles/withStyles\";\nimport React, {Fragment, useState} from \"react\"\nimport Typography from \"@material-ui/core/Typography\";\nimport InfoIcon from '@material-ui/icons/Info';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Card from \"@material-ui/core/Card\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport red from \"@material-ui/core/colors/red\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\n\nconst styles = theme => ({\n    root: {\n        [theme.breakpoints.down('lg')]: {\n            width: \"95%\",\n        },\n        [theme.breakpoints.up('lg')]: {\n            width: \"28vw\",\n        },\n        margin: theme.spacing(1)\n    },\n    media: {\n        height: 0,\n            paddingTop: '56.25%', // 16:9\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n            marginLeft: 'auto',\n            transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n    avatar: {\n        backgroundColor: red[500],\n    },\n})\n\nfunction CategoriesDisplay({categories}){\n    return(\n        categories != null &&\n        <Box component=\"ul\"  style={{\n            display: 'flex',\n            justifyContent: 'left',\n            flexWrap: 'wrap',\n            listStyle: 'none',\n            padding: '0px'\n        }}>\n            {categories.map((data, index) => {\n                return (\n                    <li key={index}>\n                        <Chip\n                            variant=\"outlined\"\n                            style={{margin: \"5px\"}}\n                            label={data.name}\n                        />\n                    </li>\n\n                );\n            })}\n        </Box>\n    )\n}\n\nfunction SubheaderDisplay({city, address, priceRange, rating}){\n    return(\n        <div>\n\n            {rating != null &&\n            <Fragment><Rating\n                readOnly={true}\n                value={rating}\n            /><br/></Fragment>}\n            {(address != null ? address : \"\") + \" \" + (city != null ? city: \"\")} <div style={{color: \"green\"}}>{priceRange}</div>\n\n        </div>\n    )\n}\n\nfunction ApiPlaceCard({classes, placeData}){\n\n    function truncateText(text){\n        if(text == null)\n            return \"\"\n        if(text.length > 500){\n            return text.substring(0, 500) + \"...\";\n        }else{\n            return text\n        }\n    }\n\n    return(\n        <Card className={classes.root}>\n            <CardHeader\n                action={\n                    <IconButton aria-label=\"settings\">\n                        <InfoIcon />\n                    </IconButton>\n                }\n                title={placeData.name}\n                subheader={<SubheaderDisplay city={placeData.city} address={placeData.address} priceRange={placeData.priceRange} rating={placeData.overallStarRating}/>}\n\n            />\n            {placeData.photos != null &&\n            <CardMedia\n                className={classes.media}\n                image={placeData.photos[0].url}\n            />}\n            <CardContent>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    {truncateText(placeData.description)}\n                </Typography>\n\n                <CategoriesDisplay categories={placeData.categories}/>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\n                {placeData.website}\n                </Typography>\n\n            </CardContent>\n            <CardActions disableSpacing>\n            </CardActions>\n        </Card>\n    )\n}\n\nApiPlaceCard.propTypes = {\n    placeData: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ApiPlaceCard)","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport DirectionsIcon from '@material-ui/icons/Directions';\nimport {debounce} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        margin: theme.spacing(2)\n        // width: 400,\n    },\n    iconButton: {\n        padding: 10,\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    divider: {\n        // height: 28,\n        margin: 4,\n    },\n}));\n\nexport default function SearchInputComponent({hint, searchCallback}) {\n    const classes = useStyles();\n\n    const debouncedInput = (event) => {\n        searchCallback(event.target.value)\n    }\n\n    const debounceInput = debounce(event => debouncedInput(event), 500)\n\n    const handleInput = (event) => {\n        event.persist()\n        debounceInput(event)\n    }\n\n    return (\n        <Paper component=\"form\" className={classes.root}>\n            <InputBase\n                className={classes.input}\n                placeholder={hint}\n                inputProps={{ 'aria-label': hint }}\n                onChange={handleInput}\n            />\n            <IconButton className={classes.iconButton} aria-label=\"search\">\n                <SearchIcon />\n            </IconButton>\n            <Divider className={classes.divider} orientation=\"vertical\" />\n        </Paper>\n    );\n}","import withStyles from \"@material-ui/core/styles/withStyles\";\nimport React, {useState} from \"react\"\nimport ApiPlaceCard from \"../components/ApiPlaceCard\";\nimport API from \"../Networking/API\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport debounce from 'lodash/debounce'\nimport Masonry from \"react-masonry-component\";\nimport SearchInputComponent from \"../components/SearchInputComponent\";\nimport Strings from \"../helpers/stringResources\";\nimport Typography from \"@material-ui/core/Typography\";\nimport UseSnackbarContext from \"../contexts/UseSnackbarContext\";\n\n\n\nconst styles = theme => ({\n    root:{\n        overflow: 'scroll',\n        width: \"100%\",\n        padding: theme.spacing(1),\n        height:`calc(100vh - 64px)`,\n        paddingTop: \"9vh\",\n    },\n    topBar: {\n        height: \"8vh\",\n        position: \"absolute\",\n        width: \"60%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        left: 0,\n        right: 0,\n        justifyContent: \"center\",\n        zIndex: 1\n    },\n    searchBox: {\n        margin: theme.spacing(1)\n    }\n})\n\nfunction ApiPlaces({classes}){\n\n    const [data, setData] = useState([]);\n    const [isLoadingData, setIsLoadingData] = useState(false);\n    const { addConfig } = UseSnackbarContext();\n\n    const loadDataFunc = (query) => {\n        setData([])\n        setIsLoadingData(true)\n        API.Places.searchApiPlaces(\"?keyword=\" + encodeURI(query)).then(response => {\n            setData([...response])\n        }).catch(error => {\n            addConfig(false, \"The request did not go through.\")\n        }).finally(() => {\n            setIsLoadingData(false)\n        })\n    }\n\n    const handleSearch = (word) => {\n        if(word.length > 3)\n            loadDataFunc(word)\n    }\n\n    return(\n        <div style={{position: \"relative\"}}>\n            <div className = {classes.topBar}>\n                <SearchInputComponent searchCallback={handleSearch} hint=\"Search api places\" style={classes.searchBox} />\n            </div>\n\n            <div className={classes.root}>\n                <Masonry\n                    style={{margin: \"0 auto\"}}\n                    elementType={'div'} // default 'div'\n                    options={{\n                        isFitWidth: true\n                    }} // default {}\n                    disableImagesLoaded={false} // default false\n                    updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n                >\n\n                    {data.map(item => {\n                        return <ApiPlaceCard key={item.placeId} placeData = {item} style={{boxSizing: 'border-box'}}/>\n                    })}\n\n                    {\n                        data.length === 0 && !isLoadingData &&\n                        <Typography variant=\"subtitle1\">No results</Typography>\n                    }\n                    {\n                        isLoadingData &&\n                        <CircularProgress  />\n                    }\n\n                </Masonry>\n\n\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(ApiPlaces)","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\">\n            {'Copyright  '}\n            Traveldirection {' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n    },\n    main: {\n        marginTop: theme.spacing(8),\n        marginBottom: theme.spacing(2),\n    },\n    footer: {\n        padding: theme.spacing(3, 2),\n        marginTop: 'auto',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[800],\n    },\n}));\n\nexport default function NotFoundPage() {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <CssBaseline />\n            <Container component=\"main\" className={classes.main} maxWidth=\"sm\">\n                <Typography variant=\"h2\" component=\"h1\" gutterBottom>\n                    Page not found\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                    {'Try something else'}\n                </Typography>\n            </Container>\n            <footer className={classes.footer}>\n                <Container maxWidth=\"sm\">\n                    <Copyright />\n                </Container>\n            </footer>\n        </div>\n    );\n}","import React, {Fragment, useEffect, useState} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Router, Route, Link, Switch } from \"react-router-dom\";\nimport Home from \"../pages/Home\";\nimport Places from \"../pages/Places\";\nimport AddPlace from \"../pages/AddPlace\";\nimport history from \"../helpers/history\";\nimport ApiPlaces from \"../pages/ApiPlaces\";\nimport UseSnackbarContext from \"../contexts/UseSnackbarContext\";\nimport UseAppBarTitleContext from \"../contexts/UseAppBarTitleContext\";\nimport NotFoundPage from \"../pages/NotFoundPage\";\nimport Redirect from \"react-router-dom/es/Redirect\";\nimport { useLocation } from 'react-router-dom'\nconst drawerWidth = 240;\n\n\nconst useStyles = makeStyles((theme) => ({\n    root1: {\n        overflow: \"hidden\",\n        display: 'flex',\n        height: \"100vh\",\n        background: \"#F1F1F1\"\n    },\n    appBar: {\n        height: \"64px\",\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    hide: {\n        display: 'none',\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    drawerHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: theme.spacing(0, 1),\n        // necessary for content to be below app bar\n        ...theme.mixins.toolbar,\n        justifyContent: 'flex-end',\n    },\n    content: {\n        width: \"100vw\",\n        height: \"100%\",\n        //padding: theme.spacing(3),\n        transition: theme.transitions.create('margin', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        marginLeft: -drawerWidth,\n    },\n    contentShift: {\n        width: \"100vw\",\n        height: \"100%\",\n        transition: theme.transitions.create('margin', {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginLeft: 0\n    },\n}));\n\n\nexport default function Appbar(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const [open, setOpen] = useState(false);\n    const { title, setTitle } = UseAppBarTitleContext();\n    let location = useLocation();\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const handleListItemClick = (url,title) =>{\n        handleDrawerClose();\n        setTitle(title);\n\n        if(location.pathname === url){\n            history.go(0)\n        }\n    };\n\n    return (\n        <div className={classes.root1}>\n            <CssBaseline />\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open,\n                })}\n            >\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        className={clsx(classes.menuButton, open && classes.hide)}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" noWrap>\n                        {title}\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n\n            <Drawer\n                className={classes.drawer}\n                variant=\"persistent\"\n                anchor=\"left\"\n                open={open}\n                classes={{\n                    paper: classes.drawerPaper,\n                }}\n            >\n                <div className={classes.drawerHeader}>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n                    </IconButton>\n                </div>\n\n                <Divider />\n                <List>\n                    <ListItem button component={Link} to=\"/app/\" onClick={()=>handleListItemClick(\"/app/\",\"Home\")}>\n                        <ListItemText>Home</ListItemText>\n                    </ListItem>\n                    <Divider light />\n                    <ListItem button component={Link} to=\"/app/places\" onClick={()=>handleListItemClick(\"/app/places\",\"Places\")} >\n                        <ListItemText>Places</ListItemText>\n                    </ListItem>\n                    <ListItem button component={Link} to=\"/app/apiplaces\" onClick={()=>handleListItemClick(\"/app/apiplaces\",\"Api places\")} >\n                        <ListItemText>Explore API places</ListItemText>\n                    </ListItem>\n                    <ListItem button component={Link} to=\"/app/addplace\" onClick={()=>handleListItemClick(\"/app/addplace\",\"Add Place\")} >\n                        <ListItemText>Add place</ListItemText>\n                    </ListItem>\n                </List>\n            </Drawer>\n            <main\n                className={clsx(classes.content, {\n                    [classes.contentShift]: open,\n                })}\n            >\n                <div className={classes.drawerHeader} />\n                <Switch>\n                    <Route exact path=\"/app\" component={Home} />\n                    <Route path=\"/app/places\" component={Places} />\n                    <Route path=\"/app/addplace/:placeId?\" component={AddPlace} />\n                    <Route path=\"/app/apiplaces\" component={ApiPlaces} />\n                    <Route path=\"/app/addplace\" component={AddPlace} />\n                    <Redirect from=\"*\" to=\"/404\"/>\n                </Switch>\n\n            </main>\n        </div>\n    );\n}\n","import React, { Component } from 'react';\nimport Appbar from './components/Appbar.js';\nimport AppBarTitleProvider from \"./contexts/AppBarTitleContext\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from '@date-io/date-fns';\n\nclass App extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <AppBarTitleProvider>\n                        <Appbar />\n                    </AppBarTitleProvider>\n                    </MuiPickersUtilsProvider>\n            </React.Fragment>\n        );\n    }\n}\nexport default App;","import React, {useEffect, useState} from \"react\";\nimport app from \"../helpers/firebaseInit\"\nimport Cookies from \"js-cookie\"\nimport {getAccessToken} from \"../helpers/tokens\";\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({children}) => {\n    const [currentUser, setCurrentUser] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(()=>{\n        app.auth().onAuthStateChanged(function (user) {\n            if (user) {\n                setCurrentUser(user);\n                console.log(getAccessToken())\n                // app.auth().currentUser.getIdToken(true).then(function (idToken) {\n                //     console.log(\"Getting new access token\");\n                //     Cookies.set(\"access_token\", idToken);\n                // }).catch(function (error) {\n                //\n                // });\n            }\n            setIsLoading(false)\n        });\n    },[]);\n\n\n    return (\n        <AuthContext.Provider\n            value={{\n                currentUser,\n                isLoading\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n};","import React, {useContext, useEffect, useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Cookies from 'js-cookie'\nimport * as firebase from \"firebase\";\nimport history from \"../helpers/history\";\nimport UseSnackbarContext from \"../contexts/UseSnackbarContext\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport app from \"../helpers/firebaseInit\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport Redirect from \"react-router-dom/es/Redirect\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {isAuthenticated} from \"../helpers/tokens\";\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright  '}\n                Traveldirection {' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    loaderMain: {\n        width: \"100%\",\n        height: \"100%\",\n        alignItems:\"center\",\n        justifyContent: \"center\",\n        backgroundColor: \"red\"\n    }\n}));\n\n\nexport default function LoginPage() {\n    const classes = useStyles();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [loading, setIsLoading] = useState(false);\n    const { addConfig } = UseSnackbarContext();\n    const { currentUser, isLoading } = useContext(AuthContext);\n\n\n    const handleLogin = () =>{\n        setIsLoading(true);\n        app.auth().signInWithEmailAndPassword(email , password)\n            .then(function(user) {\n                setIsLoading(false)\n                app.auth().currentUser.getIdToken(true).then(function (idToken) {\n                    console.log(\"Getting new access token\");\n                    Cookies.set(\"access_token\", idToken);\n                    history.push(\"/app\");\n                }).catch(function (error) {\n                    addConfig(false, \"Error receiving access token\")\n                });\n            })\n            .catch(function(error) {\n                setIsLoading(false);\n                addConfig(false, error.message)\n            });\n    };\n\n\n    if (isAuthenticated()) {\n        return <Redirect to=\"/app\" />;\n    }\n\n    const handleKeyPress = (event) =>{\n        if (event.which === 13 || event.keyCode === 13) {\n            handleLogin();\n            return false;\n        }\n        return true;\n    };\n\n    return <Container component=\"main\" maxWidth=\"xs\" onKeyPress={(e)=>handleKeyPress(e)}>\n\n                            {loading && <LinearProgress />}\n                            <CssBaseline />\n                            <div className={classes.paper}>\n                                <Avatar className={classes.avatar}>\n                                    <LockOutlinedIcon />\n                                </Avatar>\n                                <Typography component=\"h1\" variant=\"h5\">\n                                    Sign in\n                                </Typography>\n                                <TextField\n                                    variant=\"outlined\"\n                                    margin=\"normal\"\n                                    required\n                                    fullWidth\n                                    value={email}\n                                    onChange={(e)=>{setEmail(e.target.value)}}\n                                    id=\"email\"\n                                    label=\"Email Address\"\n                                    name=\"email\"\n                                    autoComplete=\"email\"\n                                    autoFocus\n                                />\n                                <TextField\n                                    variant=\"outlined\"\n                                    margin=\"normal\"\n                                    required\n                                    value={password}\n                                    onChange={(e)=>{setPassword(e.target.value)}}\n                                    fullWidth\n                                    name=\"password\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    id=\"password\"\n                                    autoComplete=\"current-password\"\n                                />\n                                <Button\n                                    onClick={()=>{handleLogin()}}\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    className={classes.submit}\n                                >\n                                    Sign In\n                                </Button>\n                            </div>\n                            <Box mt={8}>\n                                <Copyright />\n                            </Box>\n                        </Container>\n\n}","import Route from \"react-router-dom/es/Route\";\nimport React, {useContext} from \"react\";\nimport Redirect from \"react-router-dom/es/Redirect\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport {isAuthenticated} from \"../helpers/tokens\";\n\nexport const AuthenticatedRoute = ({ component: Component, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={routeProps =>\n                isAuthenticated() === true ? (\n                    <Component {...routeProps} />\n                ) : (\n                    <Redirect to={\"/login\"} />\n                )\n            }\n        />\n    );\n};","import React, {useState} from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport UseSnackbarContext from \"../../contexts/UseSnackbarContext\";\n\n\nexport default function SnackbarFeedback(props){\n\n    const { config, removeConfig } = UseSnackbarContext();\n\n    return(\n        <Snackbar anchorOrigin={{vertical:'bottom', horizontal:'left'}} open={!!config} autoHideDuration={4000} onClose={removeConfig}>\n            <Alert onClose={removeConfig} severity={!!config ? (config.success ? \"success\" : \"error\") : \"\"}>\n                {!!config && config.message}\n            </Alert>\n        </Snackbar>\n    )\n}\n","import React from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport UseAlertDialogContext from \"../../contexts/UseAlertDialogContext\"\n\nconst AlertDialogFeedback = () => {\n\n    const {alertConfig, removeAlertConfig} = UseAlertDialogContext();\n\n    function remove() {\n        if(alertConfig.onClose !== undefined)\n            alertConfig.onClose()\n        removeAlertConfig()\n    }\n\n    return(\n        <Dialog\n            open={!!alertConfig}\n            onClose={remove}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">{!!alertConfig ? alertConfig.title : \"\"}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {!!alertConfig ? alertConfig.message : \"\"}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={remove}\n                        color=\"primary\">\n                    Close\n                </Button>\n                <Button onClick={!!alertConfig ? ()=>{\n                    removeAlertConfig();\n                    alertConfig.func()} : {}\n                } color=\"primary\" autoFocus>\n                    Agree\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n};\n\n\nexport default AlertDialogFeedback\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport history from \"./helpers/history\";\nimport LoginPage from \"./pages/LoginPage\";\nimport { Router, Route, Link, Switch} from \"react-router-dom\";\nimport {AuthenticatedRoute} from \"./components/AuthenticatedRoute\";\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport Redirect from \"react-router-dom/es/Redirect\";\nimport SnackbarProvider from \"./contexts/SnackbarContext\";\nimport SnackbarFeedback from \"./components/feedback/SnackbarFeedback\";\nimport AlertDialogProvider from \"./contexts/AlertDialogContext\";\nimport AlertDialogFeedback from \"./components/feedback/AlertDialogFeedback\";\nimport {AuthProvider} from \"./contexts/AuthContext\";\n\nrequire('dotenv').config();\n\nReactDOM.render(\n    <AuthProvider>\n        <Router history={history}>\n            <SnackbarProvider>\n                <AlertDialogProvider>\n                    <SnackbarFeedback/>\n                    <AlertDialogFeedback/>\n                    <Switch>\n                        <Redirect exact from=\"/\" to=\"/app\"/>\n                        <AuthenticatedRoute path=\"/app\" component={App} />\n                        <Route path=\"/login\" component={LoginPage} />\n                        <Route path=\"*\" component={NotFoundPage}/>\n                        <Redirect from=\"*\" to=\"/404\" />\n                    </Switch>\n                </AlertDialogProvider>\n            </SnackbarProvider>\n        </Router>\n    </AuthProvider>\n   , document.getElementById('root'));\n"],"sourceRoot":""}