(this["webpackJsonptravelling-admin"]=this["webpackJsonptravelling-admin"]||[]).push([[0],{379:function(e,t,a){e.exports=a(662)},662:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),i=a.n(l),c=a(322),o=a(323),s=a(352),u=a(351),d=a(16),m=a(9),g=a(229),p=a(3),f=a(719),b=a(23),h=a(761),E=a(746),v=a(747),C=a(720),O=a(724),k=a(61),y=a(745),P=a(666),j=a(228),S=a.n(j),A=a(348),w=a.n(A),I=a(349),L=a.n(I),D=a(729),N=a(748),x=a(18),T=a(124),_=a(5),R=Object(_.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"}}}))((function(e){e.classes;return r.a.createElement("div",null,"Home")})),W=a(10),F=a(727),B=a(728),M=a(718),G=a(726),q=a(716),z=a(752),H=a(717),U=a(757),V=a(171),K=a(755),Y=a(721),J=a(65),Z=a.n(J),X=a(224),Q=a.n(X),$=a(751);var ee=a(725);function te(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function ae(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,l=e.orderBy,i=e.numSelected,c=e.rowCount,o=e.onRequestSort,s=e.headCells,u=e.checkable;return r.a.createElement(q.a,null,r.a.createElement(H.a,null,u?r.a.createElement(M.a,{padding:"checkbox"},r.a.createElement(K.a,{indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:a,inputProps:{"aria-label":"select all desserts"}})):null,s.map((function(e){return r.a.createElement(M.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:l===e.id&&n},r.a.createElement(U.a,{active:l===e.id,direction:l===e.id?n:"asc",onClick:(a=e.id,function(e){o(e,a)})},e.label,l===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a}))))}var ne=Object(f.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(W.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),re=function(e){var t=ne(),a=e.numSelected,l=e.title,i=e.changePageCallback,c=e.keyword,o=e.setKeyword,s=function(e,t){var a=Object(n.useState)(e),r=Object(m.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e]),l}(c,300);return Object(n.useEffect)((function(){i(1,c)}),[s]),r.a.createElement(C.a,{className:Object(p.a)(t.root,Object(d.a)({},t.highlight,a>0))},a>0?r.a.createElement(k.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):r.a.createElement(k.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},l),a>0?r.a.createElement(Y.a,{title:"Delete"},r.a.createElement(P.a,{"aria-label":"delete"},r.a.createElement(Z.a,null))):r.a.createElement($.a,{id:"standard-basic",label:"Search",onChange:function(e){o(e.target.value)}}))},le=Object(f.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},centerCell:{textAlign:"center",width:"100%"},rowNotPublished:{backgroundColor:"#ffcdd2"},rowNotVerified:{backgroundColor:"#fff9c4"},rowBasic:{backgroundColor:"#FFFFFF"}}}));function ie(e){var t=e.title,a=e.headCells,l=e.pagingInfo,i=e.data,c=e.checkable,o=e.changePageCallback,s=e.updateCallback,u=e.removeCallback,d=e.id,g=e.isLoading,p=le(),f=r.a.useState("asc"),b=Object(m.a)(f,2),h=b[0],E=b[1],v=r.a.useState("calories"),C=Object(m.a)(v,2),O=C[0],y=C[1],j=r.a.useState([]),S=Object(m.a)(j,2),A=S[0],w=S[1],I=r.a.useState(0),L=Object(m.a)(I,2),D=L[0],N=L[1],x=r.a.useState(!1),T=Object(m.a)(x,2),_=T[0],R=(T[1],r.a.useState(10)),W=Object(m.a)(R,2),q=W[0],U=W[1],Y=Object(n.useState)(""),J=Object(m.a)(Y,2),X=J[0],$=J[1],ne=q-Math.min(q,i.length-D*q);return r.a.createElement("div",{className:p.root},r.a.createElement(V.a,{className:p.paper},g?r.a.createElement(ee.a,null):null,r.a.createElement(re,{title:t,numSelected:A.length,changePageCallback:o,keyword:X,setKeyword:$}),r.a.createElement(G.a,null,r.a.createElement(F.a,{className:p.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table"},r.a.createElement(ae,{classes:p,numSelected:A.length,order:h,orderBy:O,onSelectAllClick:function(e){if(e.target.checked){var t=i.map((function(e){return e.name}));w(t)}else w([])},onRequestSort:function(e,t){E(O===t&&"asc"===h?"desc":"asc"),y(t)},rowCount:i.length,headCells:a,checkable:c}),r.a.createElement(B.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(i,function(e,t){return"desc"===e?function(e,a){return te(e,a,t)}:function(e,a){return-te(e,a,t)}}(h,O)).slice(D*q,D*q+q).map((function(e,t){var n,l=(n=e.name,-1!==A.indexOf(n)),i="enhanced-table-checkbox-".concat(t),o=void 0!==e.isVerified&&!1===e.isVerified?p.rowNotVerified:void 0!==e.isPublic&&!1===e.isPublic?p.rowNotPublished:p.rowBasic;return r.a.createElement(H.a,{className:o,hover:!0,onClick:function(t){e.name},role:"checkbox","aria-checked":l,tabIndex:-1,key:e.name,selected:l},c?r.a.createElement(M.a,{padding:"checkbox"},r.a.createElement(K.a,{checked:l,onChange:function(t){return function(e,t){var a=A.indexOf(t),n=[];-1===a?n=n.concat(A,t):0===a?n=n.concat(A.slice(1)):a===A.length-1?n=n.concat(A.slice(0,-1)):a>0&&(n=n.concat(A.slice(0,a),A.slice(a+1))),w(n)}(0,e.name)},inputProps:{"aria-labelledby":i}})):null,a.map((function(t){return t.isId?r.a.createElement(M.a,{component:"th",id:i,scope:"row"},e[t.id]):"actions"===t.id?r.a.createElement(M.a,null,r.a.createElement("div",null,r.a.createElement(P.a,{onClick:function(){return s(e[d])},size:"small","aria-label":"edit"},r.a.createElement(Q.a,{fontSize:"small"})),r.a.createElement(P.a,{size:"small","aria-label":"delete"},r.a.createElement(Z.a,{onClick:function(){return u(e[d])},fontSize:"small"})))):r.a.createElement(M.a,{align:t.numeric?"right":"left"},e[t.id])})))})),ne>0&&r.a.createElement(H.a,{style:{height:(_?33:53)*ne}},i.length>0?r.a.createElement(M.a,{colSpan:6}):!g&&r.a.createElement(M.a,{colSpan:6,className:p.centerCell},r.a.createElement(k.a,{variant:"h6",noWrap:!0},"No results")))))),r.a.createElement(z.a,{rowsPerPageOptions:[10],component:"div",count:null!==l?l.total:i.length,rowsPerPage:q,page:null!==l?l.pageNum-1:D,onChangePage:function(e,t){null!==l?o(t+1,X):N(t)},onChangeRowsPerPage:function(e){U(parseInt(e.target.value,10)),N(0),console.log("handleChangeRowsPerPage")}})))}var ce=a(168),oe=a.n(ce),se=a(329),ue=a(225),de=a.n(ue),me=function(){var e=Object(se.a)(oe.a.mark((function e(t,a){var n,r,l;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=de.a.create({baseURL:"http://izbg.l.dedikuoti.lt:8080/",headers:{"Content-Type":null==a?"application/json":a,Accept:"application/json","Access-Control-Allow-Origin":"*"}}),r=function(e){return console.debug("Request Successful!",e),e.data},l=function(e){return console.debug("Request Failed:",e.config),e.response?(console.debug("Status:",e.response.status),console.debug("Data:",e.response.data),console.debug("Headers:",e.response.headers)):console.debug("Error Message:",e.message),Promise.reject(e.response||e.message)},e.abrupt("return",n(t).then(r).catch(l));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge={getRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return me({url:e+t,method:"GET"})},postRequest:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return me({url:e+a,method:"POST",data:t})},postMultipartRequest:function(e,t){return me({url:e,method:"POST",data:t},"multipart/form-data")}},pe={Places:{getAllPlaces:function(e){return ge.getRequest("api/v1/place/search",e)},insertPlace:function(e){return ge.postRequest("api/v1/place/insert",e)},updatePlace:function(e){return ge.postRequest("api/v1/place/update",e)},getPlaceById:function(e){return ge.getRequest("api/v1/place/getplace",e)},getAllPlacesAdmin:function(e){return ge.getRequest("api/v1/place/searchadmin",e)},searchApiPlaces:function(e){return ge.getRequest("api/v1/placeApi/search",e)},removePlace:function(e){return ge.getRequest("api/v1/place/delete",e)}},Tags:{getAllTags:function(){return ge.getRequest("api/v1/tags/all")},addTag:function(e){return ge.postRequest("api/v1/tags/insert",e)}},Categories:{addCategory:function(e){return ge.postRequest("api/v1/categories/insert",e)},getAllCategories:function(){return ge.getRequest("api/v1/categories/all")}},Photos:{addPhoto:function(e){return ge.postRequest("api/v1/photo/insert",e)},uploadPhoto:function(e){return ge.postMultipartRequest("api/v1/photo/upload",e)}},Parking:{getParkingByLocation:function(e){return ge.getRequest("api/v1/parking/searchAdmin",e)},insertNewParking:function(e){return ge.postRequest("api/v1/parking/insert",e)}},TagsPlace:{updateTagsForPlace:function(e,t){return ge.postRequest("api/v1/tagsplace/update",e,t)}},CategoriesPlace:{updateCategoriesForPlace:function(e,t){return ge.postRequest("api/v1/categoryplace/update",e,t)}},ParkingPlace:{updateParkingForPlace:function(e,t){return ge.postRequest("api/v1/parkingplace/update",e,t)}},PhotoPlace:{updatePhotoForPlace:function(e,t){return ge.postRequest("api/v1/photoplace/update",e,t)}},Schedule:{updateScheduleForPlace:function(e,t){return ge.postRequest("api/v1/ws/update",e,t)}}},fe=a(731),be=a(66),he=a.n(be),Ee=a(760),ve=a(46),Ce=Object(ve.a)(),Oe=r.a.createContext({alertConfig:null,addAlertConfig:function(){},removeAlertConfig:function(){}});function ke(e){var t=e.children,a=Object(n.useState)(null),l=Object(m.a)(a,2),i=l[0],c=l[1],o={alertConfig:i,addAlertConfig:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return c({title:e,message:t,func:a,onClose:n})},removeAlertConfig:function(e){return c(null)}};return r.a.createElement(Oe.Provider,{value:o},t)}function ye(){var e=Object(n.useContext)(Oe);return{alertConfig:e.alertConfig,addAlertConfig:e.addAlertConfig,removeAlertConfig:e.removeAlertConfig}}var Pe={DIALOG_PLACE_PUBLISH_TITLE:"Place publicity",DIALOG_PLACE_PUBLISH_MESSAGE:"This place will be visible for all users. Are you sure?",DIALOG_PLACE_UNPUBLISH_MESSAGE:"This place will not be visible anymore. Are you sure?",DIALOG_PLACE_INSERT_TITLE:"Insert place",DIALOG_PLACE_INSERT:"Are you sure you want to insert this place?",DIALOG_PLACE_UPDATE_TITLE:"Update place",DIALOG_PLACE_UPDATE:"Are you sure you want to make changes to this place?",DIALOG_PLACE_VERIFY_TITLE:"Place verification",DIALOG_PLACE_VERIFY_MESSAGE:"This is a user's suggested place. Are you sure you want to verify this place and make it visible to others?",DIALOG_PLACE_DELETE_TITLE:"Delete place",DIALOG_PLACE_DELETE_MESSAGE:"This action will remove this place permanently. Are you sure you want to proceed?",SNACKBAR_PLACE_INSERTED_SUCCESS:"Place inserted successfully",SNACKBAR_PLACE_REMOVE_SUCCESS:"Place was removed successfully",SNACKBAR_ERROR:"Something went wrong!",SNACKBAR_CHANGES_SAVED:"All changes saved!"},je=r.a.createContext({config:null,addConfig:function(){},removeConfig:function(){}});function Se(e){var t=e.children,a=Object(n.useState)(null),l=Object(m.a)(a,2),i=l[0],c=l[1],o={config:i,addConfig:function(e,t){return function(e,t){return c({success:e,message:t})}(e,t)},removeConfig:function(){return c(null)}};return r.a.createElement(je.Provider,{value:o},t)}function Ae(){var e=Object(n.useContext)(je);return{config:e.config,addConfig:e.addConfig,removeConfig:e.removeConfig}}var we=[{id:"name",numeric:!1,disablePadding:!1,label:"Place name",isId:!0},{id:"address",numeric:!1,disablePadding:!1,label:"Address",isId:!1},{id:"city",numeric:!1,disablePadding:!1,label:"City",isId:!1},{id:"country",numeric:!1,disablePadding:!1,label:"Country",isId:!1},{id:"phoneNumber",numeric:!1,disablePadding:!1,label:"Phone Number",isId:!1},{id:"actions",numeric:!1,disablePadding:!1,label:"Actions",isId:!1}];var Ie=Object(_.a)((function(e){var t;return{button:{margin:e.spacing(2)},input:{display:"none"},root:{height:"100vh",width:"100%",overflow:"auto"},buttonsDiv:{backgroundColor:"red",justifyContent:"flex-end"},content:(t={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Object(d.a)(t,e.breakpoints.down("lg"),{padding:e.spacing(1)}),Object(d.a)(t,e.breakpoints.up("lg"),{padding:e.spacing(8)}),t)}}))((function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(!0),g=Object(m.a)(d,2),p=g[0],f=g[1],b=e.classes,h=ye().addAlertConfig,E=Ae().addConfig;function v(e){f(!1);var t=[];e.list.map((function(e){t.push(e)})),delete e.list,i(t),u(e)}return Object(n.useEffect)((function(){C()}),[]),r.a.createElement("div",{className:b.root},r.a.createElement("div",{className:b.content},r.a.createElement(ie,{title:"Places",headCells:we,data:l,pagingInfo:s,checkable:!1,changePageCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(!0),C("?p="+e+"&s=10&keyword="+t)},updateCallback:function(e){Ce.push("/addplace/"+e)},removeCallback:function(e){f(!0),h(Pe.DIALOG_PLACE_DELETE_TITLE,Pe.DIALOG_PLACE_DELETE_MESSAGE,(function(){pe.Places.removePlace("?p="+e).then((function(t){var a=[];l.map((function(t){console.log(t),t.placeId!==e&&a.push(t)})),i(a),E(!0,Pe.SNACKBAR_PLACE_REMOVE_SUCCESS),f(!1)})).catch((function(e){f(!1),E(!1,Pe.SNACKBAR_ERROR)}))}),(function(){f(!1)}))},id:"placeId",isLoading:p}),r.a.createElement(Ee.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(fe.a,{onClick:function(){Ce.push("/addplace")},variant:"text",color:"secondary",size:"large",className:b.button,startIcon:r.a.createElement(he.a,null)},"Add"))));function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";pe.Places.getAllPlacesAdmin(e).then((function(e){v(e)})).catch((function(e){console.log(e)}))}}));var Le=Object(_.a)((function(e){return{}}))((function(e){e.classes;var t=e.placeInfo,a=e.setPlaceInfo,n=function(e){var n=e.target,r=n.name,l=n.value,i=Object.assign({},t,{});i[r]=l,a(i)};return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h6"},"Basic place information"),r.a.createElement("br",null),r.a.createElement($.a,{label:"Place name",style:{margin:8},placeholder:"Enter the place name",fullWidth:!0,value:t.name,name:"name",onChange:function(e){return n(e)},variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Place description",style:{margin:8},placeholder:"Describe the place thoroughly",fullWidth:!0,multiline:!0,name:"description",value:t.description,onChange:function(e){return n(e)},variant:"outlined",rows:4,margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Phone number",style:{margin:8},placeholder:"Enter phone number",fullWidth:!0,name:"phoneNumber",value:t.phoneNumber,onChange:function(e){return n(e)},variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Website",style:{margin:8},placeholder:"Enter website",fullWidth:!0,name:"website",value:t.website,onChange:function(e){return n(e)},variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}))})),De=a(38),Ne=a(32),xe=a.n(Ne),Te=a(84),_e=a(330),Re=a(733),We=a(732),Fe=a(734),Be=function(e){e.index;var t=e.onItemDelete,a=e.photo,n=e.margin,l=e.direction,i=e.top,c=e.left,o={imgContainer:{margin:n,display:"inline",position:"relative",width:"300px",height:"300px"}};"column"===l&&(o.imgContainer.position="absolute",o.imgContainer.imgStyle.left=c,o.imgContainer.imgStyle.top=i);return r.a.createElement(We.a,{style:o.imgContainer},r.a.createElement(Re.a,{style:{height:0,paddingTop:"80%"},image:a.src}),r.a.createElement(Fe.a,{disableSpacing:!0},r.a.createElement(fe.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(Z.a,null),onClick:function(e){t(a)}},"Delete")))},Me=Object(Te.b)((function(e){return r.a.createElement(Be,e)})),Ge=Object(Te.a)((function(e){var t=e.items,a=e.onItemDelete;return r.a.createElement(_e.a,{photos:t,renderImage:function(e){return r.a.createElement(Me,Object.assign({},e,{onItemDelete:a}))}})}));var qe=function(e){var t=e.setPhotos,a=e.photos,n=e.srcName,l=e.keyName,i=a.map((function(e){return{key:e[l].toString(),src:e[n],width:1,height:1}}));return r.a.createElement("div",null,r.a.createElement(Ge,{distance:10,items:i,onSortEnd:function(e){var n=e.oldIndex,r=e.newIndex;t(Object(Te.c)(a,n,r))},axis:"xy",onItemDelete:function(e){t(a.filter((function(t){return t[l].toString()!==e.key})))}}))},ze=a(736),He=a(737),Ue=a(738),Ve=a(739),Ke=a(350),Ye=["image/jpeg","image/png","image/bmp","image/jpg"];var Je=Object(_.a)((function(e){return{}}))((function(e){var t=e.onCloseCallback,a=e.open,l=e.onFinishCallback,i=Object(n.useState)(!1),c=Object(m.a)(i,2),o=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(ze.a,{"aria-labelledby":"customized-dialog-title",open:a,fullWidth:!0},r.a.createElement(He.a,{id:"customized-dialog-title"},"Photo upload"),o&&r.a.createElement(ee.a,{variant:"query"}),r.a.createElement(Ue.a,{dividers:!0},r.a.createElement(Ke.a,{acceptedFiles:Ye,dropzoneProps:{disabled:o},filesLimit:1,onDrop:function(e){return function(e){s(!0);var t=e[0],a=new FormData;a.append("image",t),pe.Photos.uploadPhoto(a).then((function(e){l(e)})).catch((function(e){l()})).finally((function(){s(!1)}))}(e)}})),r.a.createElement(Ve.a,null,r.a.createElement(fe.a,{onClick:t,color:"primary"},"Cancel"))))}));var Ze=xe()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)}}}))((function(e){var t=e.classes,a=e.setPhotos,l=e.photos,i=Object(n.useState)(!1),c=Object(m.a)(i,2),o=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h6"},"Photos"),r.a.createElement(We.a,{variant:"outlined",className:t.outline},l.length>0&&r.a.createElement(qe,{keyName:"photoId",srcName:"url",setPhotos:a,photos:l}),r.a.createElement(fe.a,{variant:"text",color:"primary",size:"small",style:{width:"15%"},className:t.button,onClick:function(){return s(!0)},startIcon:r.a.createElement(he.a,null)},"Add photo"),r.a.createElement(Je,{open:o,onFinishCallback:function(e){return function(e){s(!1),null!=e&&a([].concat(Object(De.a)(l),[e]))}(e)},onCloseCallback:function(){return s(!1)}})))})),Xe=a(341),Qe=a.n(Xe),$e=a(123),et=a.n($e),tt=a(92),at=a(91),nt=a(345),rt=a.n(nt);var lt=xe()((function(e){return{content:{margin:e.spacing(1)},autocomplete:{width:"200px",height:"40px",fontSize:"14px",border:"0",borderBottom:"2px solid grey",outline:"0",marginBottom:"4px"}}}))((function(e){var t=e.classes,a=e.locationData,l=e.setLocationData,i=e.mapHeight,c=e.selectedParkingCallback,o=e.changedParkingMarkerCallback,s=e.addParkingCallback;function u(e){var t=r.a.useRef();return t.current=e,r.a.useCallback((function(){var e=t.current;if("function"===typeof e)return e.apply(this,arguments)}),[])}et.a.setApiKey("AIzaSyDGFjZHSoRrZ2AEO0ONXvjuN4RiCmknXf8"),et.a.enableDebug();var d=u(c),m=u(s);function g(e,t,n,r,i,c){var s=Object.assign({},a,{});s.city=e,s.country=t,s.address=n,s.latitude=r,s.longitude=i,l(s),s,void 0!==o&&o(e,n,t,r,i,c)}var p=function(e){if(void 0!==e)for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_2"===e[t].types[0])return e[t].long_name},f=function(e){if(void 0!=e)for(var t=0;t<e.length;t++)if(e[t].types[0]&&"country"===e[t].types[0])return e[t].long_name},b=Object(tt.a)(Object(tt.b)({containerElement:r.a.createElement("div",{style:{height:i}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Object(tt.c)({infoWindow:{show:!1}},{toggleDraggableInfoWindow:function(e){e.draggableMarkerLocation;return function(e){return{infoWindow:{show:e}}}}}),at.withGoogleMap)((function(e){return r.a.createElement(at.GoogleMap,{defaultZoom:12,center:{lat:e.markerLocation.latitude,lng:e.markerLocation.longitude},defaultCenter:{lat:e.markerLocation.latitude,lng:e.markerLocation.longitude}},r.a.createElement(at.Marker,{name:"Dolores park",visible:!0,draggable:!0,onClick:function(){return e.toggleDraggableInfoWindow(!0)},onDragEnd:function(t){return function(e,t,a){var n=e.latLng.lat(),r=e.latLng.lng();et.a.fromLatLng(n,r).then((function(e){var l=e.results[0].formatted_address,i=e.results[0].address_components;if(void 0!==i){var c=p(i),o=f(i);t(n,r,l,c,o),g(c,o,l,n,r,a)}}),(function(e){console.error(e)}))}(t,e.markerChanger,e.onParkingDataChange)},position:{lat:e.markerLocation.latitude,lng:e.markerLocation.longitude}},e.infoWindow.show&&s&&r.a.createElement(at.InfoWindow,{onCloseClick:function(){e.toggleDraggableInfoWindow(!1)}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},e.markerLocation.address,r.a.createElement(fe.a,{onClick:function(){m(e.markerLocation)},variant:"text",color:"secondary",size:"large",className:t.button,startIcon:r.a.createElement(he.a,null)},"Add new parking")))),(a=e.onToggleOpen,n=e.infoWindows,e.parkingData.map((function(e,l){var i=parseFloat(e.latitude),c=parseFloat(e.longitude);return r.a.createElement(at.Marker,{key:e.parkingId,position:{lat:i,lng:c},options:{icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/parking_lot_maps.png"},onClick:function(){return a(e.parkingId)}},n[l].showInfo&&r.a.createElement(at.InfoWindow,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},e.address,r.a.createElement(fe.a,{onClick:function(){d(e)},variant:"text",color:"secondary",size:"large",className:t.button,startIcon:r.a.createElement(he.a,null)},"Add parking"))))}))));var a,n})),h=Object(tt.a)(Object(tt.b)(),Object(tt.c)({draggableMarkerLocation:{latitude:a.latitude,longitude:a.longitude,address:a.address},parkingData:[],infoWindows:[]},{onMarkerLocationChanged:function(e){e.draggableMarkerLocation;return function(e,t,a,n,r){return{draggableMarkerLocation:{latitude:e,longitude:t,address:a,city:n,country:r}}}},onParkingDataChange:function(e){e.parkingData;return function(e){return{parkingData:e.map((function(e){return e})),infoWindows:e.map((function(e){return{parkingId:e.parkingId,showInfo:!1}}))}}},onToggleOpen:function(e){var t=e.infoWindows;return function(e){return{infoWindows:t.map((function(t,a){return t.showInfo=e===t.parkingId,t}))}}}}))((function(e){return r.a.createElement("div",{className:t.content},r.a.createElement(Qe.a,{className:t.autocomplete,onPlaceSelected:function(t){!function(e,t,a){var n=e.formatted_address,r=e.address_components;if(void 0!==r){var l=p(r),i=f(r),c=e.geometry.location.lat(),o=e.geometry.location.lng();t(c,o,n,l,i),g(l,i,n,c,o,a)}}(t,e.onMarkerLocationChanged,e.onParkingDataChange)},types:["(regions)"]}),r.a.createElement(P.a,{"aria-label":"delete",className:t.margin,size:"small"},r.a.createElement(rt.a,{fontSize:"large",color:"primary",onClick:function(){var t,a;t=e.onMarkerLocationChanged,a=e.onParkingDataChange,navigator.geolocation.getCurrentPosition((function(e){var n=e.coords.latitude,r=e.coords.longitude;et.a.fromLatLng(n,r).then((function(e){var l=e.results[0].formatted_address,i=e.results[0].address_components;if(void 0!==i){var c=p(i),o=f(i);t(n,r,l,c,o),g(c,o,l,n,r,a)}}),(function(e){console.error(e)})),console.log("Latitude is :",e.coords.latitude),console.log("Longitude is :",e.coords.longitude)}))}})),r.a.createElement(b,{markerChanger:e.onMarkerLocationChanged,markerLocation:e.draggableMarkerLocation,onParkingDataChange:e.onParkingDataChange,parkingData:e.parkingData,onToggleOpen:e.onToggleOpen,infoWindows:e.infoWindows}))}));return Object(n.useMemo)((function(){return r.a.createElement(h,null)}),[])}));var it=xe()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)}}}))((function(e){var t=e.locationData,a=e.setLocationData;function n(e){var n=e.target,r=n.name,l=n.value,i=Object.assign({},t,{});i[r]=l,a(i)}return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h6"},"Place location"),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"subtitle1"},"Select place location from map"),r.a.createElement("br",null),r.a.createElement(lt,{mapHeight:200,locationData:t,setLocationData:a}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"subtitle1"},"Place location"),r.a.createElement("br",null),r.a.createElement($.a,{label:"Address",style:{margin:8},placeholder:"Enter place address",fullWidth:!0,disabled:!0,value:t.address,name:"address",onChange:function(e){n(e)},variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"City",disabled:!0,style:{margin:8},placeholder:"Enter place city",fullWidth:!0,value:t.city,name:"city",onChange:function(e){n(e)},variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Country",style:{margin:8},placeholder:"Enter place country",fullWidth:!0,disabled:!0,value:t.country,name:"country",onChange:function(e){n(e)},variant:"outlined",rows:4,margin:"normal",InputLabelProps:{shrink:!0}}))}));var ct=xe()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"}}}))((function(e){var t=e.classes,a=e.parkingMarkerData,l=e.setParkingMarkerData,i=e.allSelectedParkingData,c=e.setAllSelectedParkingData,o=Ae().addConfig;function s(e){for(var t=0;t<i.length;t++)if(i[t].address===e.address)return!0;return!1}var u=function(e,t,a){pe.Parking.getParkingByLocation("?lat="+e+"&lng="+t).then((function(e){var t=[];console.log("ParkingData",e),e.map((function(e){t.push(e)})),a(e)})).catch((function(e){}))},d=Object(Te.b)((function(e){var a=e.value;return r.a.createElement(V.a,{className:t.paper,elevation:3},r.a.createElement(k.a,null,a.address),r.a.createElement(P.a,{"aria-label":"delete",className:t.margin,onClick:function(){return c(i.filter((function(e){return e.parkingId!==a.parkingId})))}},r.a.createElement(Z.a,{fontSize:"small"})))}));Object(n.useEffect)((function(){u(a.lat,a.lng)}),[]);var m=Object(Te.a)((function(e){var t=e.items;return r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement(d,{key:t,index:t,value:e})})))}));return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h6"},"Add parking"),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"subtitle1"},"Select parking"),r.a.createElement(lt,{mapHeight:350,locationData:a,setLocationData:l,selectedParkingCallback:function(e){s(e)||c((function(t){return[].concat(Object(De.a)(t),[e])}))},changedParkingMarkerCallback:function(e,t,a,n,r,l){u(parseFloat(n),parseFloat(r),l)},addParkingCallback:function(e){s(e)||pe.Parking.insertNewParking([e]).then((function(e){c((function(t){return[].concat(Object(De.a)(t),[e[0]])})),o(!0)})).catch((function(e){o(!1)}))}}),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"subtitle1"},"Selected parking locations"),r.a.createElement(m,{distance:10,items:i,onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex;c(Object(Te.c)(i,t,a))}}))})),ot=a(754),st=a(756);var ut=Object(_.a)((function(e){return{autoComplete:{margin:e.spacing(1)},chip:{margin:e.spacing(.5)},root:{display:"flex",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(1),margin:0},autoCompleteChipContainer:{padding:e.spacing(1)}}}))((function(e){var t=e.options,a=e.selectedOptions,l=e.setSelectedOptions,i=e.classes,c=e.label,o=e.id,s=Object(n.useState)({name:""}),u=Object(m.a)(s,2),d=u[0],g=u[1],p=Object(n.useState)([]),f=Object(m.a)(p,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){h(t.filter((function(e){return!a.includes(e)})))}),[t,a]),r.a.createElement("div",null,r.a.createElement(Ee.a,{className:i.autoCompleteChipContainer},0!==a.length&&r.a.createElement(Ee.a,{component:"ul",className:i.root},a.map((function(e){return r.a.createElement("li",{key:e[o]},r.a.createElement(st.a,{variant:"outlined",label:e.name,onDelete:function(){return t=e,l(a.filter((function(e){return e!==t}))),void h([].concat(Object(De.a)(b),[t]));var t},className:i.chip}))}))),r.a.createElement(ot.a,{className:i.autoComplete,value:d,options:b,onChange:function(e,t){g({name:""}),l([].concat(Object(De.a)(a),[t])),h(b.filter((function(e){return e!==t})))},disableClearable:!0,getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement($.a,Object.assign({},e,{label:c,variant:"outlined"}))}})))}));var dt=Object(_.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){e.classes;var t=e.open,a=e.onCloseCallback,l=e.header,i=(e.description,e.textFieldLabel),c=e.action,o=Object(n.useState)(""),s=Object(m.a)(o,2),u=s[0],d=s[1],g=Object(n.useState)(!1),p=Object(m.a)(g,2),f=p[0],b=p[1];return r.a.createElement("div",null,r.a.createElement(ze.a,{"aria-labelledby":"customized-dialog-title",open:t,fullWidth:!0},r.a.createElement(He.a,{id:"customized-dialog-title"},l),r.a.createElement(Ue.a,{dividers:!0},r.a.createElement($.a,{error:f,onChange:function(e){d(e.target.value)},label:i,variant:"outlined",fullWidth:!0})),r.a.createElement(Ve.a,null,r.a.createElement(fe.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(fe.a,{autoFocus:!0,color:"primary",onClick:function(){!function(){var e=!1;return u.length<=3&&(e=!0),b(e),e}()&&c(u)}},"Add"))))}));var mt=xe()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"}}}))((function(e){var t=e.classes,a=e.selectedTags,l=e.setSelectedTags,i=e.selectedCategories,c=e.setSelectedCategories,o=Object(n.useState)(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],g=Object(n.useState)(!1),p=Object(m.a)(g,2),f=p[0],b=p[1],h=Object(n.useState)([]),E=Object(m.a)(h,2),v=E[0],C=E[1],O=Object(n.useState)([]),y=Object(m.a)(O,2),P=y[0],j=y[1];return Object(n.useEffect)((function(){console.log("ParsiunciaasdasdkasfkjlasdnfoasdFJasdfn;FN;"),pe.Tags.getAllTags().then((function(e){j(e),console.log(e)})).catch((function(e){console.log(e)})),pe.Categories.getAllCategories().then((function(e){C(e),console.log(e)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h6"},"Place discovery settings"),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"subtitle1"},"Select tags"),r.a.createElement(ut,{label:"Select tags",id:"tagId",options:P,selectedOptions:a,setSelectedOptions:l}),r.a.createElement(fe.a,{variant:"text",color:"primary",size:"small",className:t.button,onClick:function(){return d(!0)},startIcon:r.a.createElement(he.a,null)},"Add missing tag"),r.a.createElement(dt,{action:function(e){pe.Tags.addTag([{name:e}]).then((function(t){var n={tagId:t[0],name:e};j([].concat(Object(De.a)(P),[n])),l([].concat(Object(De.a)(a),[n])),d(!1)})).catch((function(e){console.log(e)}))},textFieldLabel:"Name",open:u,onCloseCallback:function(){return d(!1)},header:"Add a new tag"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"subtitle1"},"Select categories"),r.a.createElement(ut,{label:"Select categories",id:"categoryId",options:v,selectedOptions:i,setSelectedOptions:c}),r.a.createElement(fe.a,{variant:"text",color:"primary",size:"small",className:t.button,onClick:function(){return b(!0)},startIcon:r.a.createElement(he.a,null)},"Add missing category"),r.a.createElement(dt,{action:function(e){pe.Categories.addCategory([{name:e}]).then((function(t){var a={categoryId:t[0],name:e};C([].concat(Object(De.a)(v),[a])),c([].concat(Object(De.a)(i),[a])),b(!1)})).catch((function(e){console.log(e)}))},textFieldLabel:"Name",open:f,onCloseCallback:function(){return b(!1)},header:"Add a new category"}))})),gt=[{dayOfWeek:0,openTime:"08:00:00",closeTime:"18:00:00",isClosed:!1},{dayOfWeek:1,openTime:"08:00:00",closeTime:"18:00:00",isClosed:!1},{dayOfWeek:2,openTime:"08:00:00",closeTime:"18:00:00",isClosed:!1},{dayOfWeek:3,openTime:"08:00:00",closeTime:"18:00:00",isClosed:!1},{dayOfWeek:4,openTime:"08:00:00",closeTime:"18:00:00",isClosed:!1},{dayOfWeek:5,openTime:"08:00:00",closeTime:"18:00:00",isClosed:!1},{dayOfWeek:6,openTime:"08:00:00",closeTime:"18:00:00",isClosed:!1}],pt=a(740),ft=a(741);function bt(e){var t=e.dayOfWeek,a=e.setData,l=e.data,i=e.classes,c=Object(n.useState)(l.openTime),o=Object(m.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(l.closeTime),g=Object(m.a)(d,2),p=g[0],f=g[1],b=Object(n.useState)(l.isClosed),h=Object(m.a)(b,2),E=h[0],v=h[1];return r.a.useEffect((function(){a((function(e){return e.map((function(e){return e.dayOfWeek===t?{dayOfWeek:t,openTime:s,closeTime:p,isClosed:E}:e}))}))}),[s,E,p]),r.a.createElement(We.a,{elevation:1,className:i.scheduleCard},r.a.createElement(k.a,{variant:"subtitle1",className:i.text},["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t]),r.a.createElement("div",null,!E&&r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{label:"Opens",type:"time",value:s,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0},inputProps:{step:300}}),r.a.createElement($.a,{label:"Closes",type:"time",onChange:function(e){return f(e.target.value)},value:p,InputLabelProps:{shrink:!0},inputProps:{step:300}})),r.a.createElement(K.a,{name:"checkedB",color:"primary",onChange:function(){return v((function(e){return!e}))},checked:!E})))}var ht=Object(_.a)((function(e){var t,a;return{scheduleCard:(t={},Object(d.a)(t,e.breakpoints.down("lg"),{margin:e.spacing(0),padding:e.spacing(0)}),Object(d.a)(t,e.breakpoints.up("lg"),{margin:e.spacing(1),padding:e.spacing(1)}),Object(d.a)(t,"display","flex"),Object(d.a)(t,"justifyContent","space-between"),Object(d.a)(t,"alignItems","center"),t),text:(a={},Object(d.a)(a,e.breakpoints.down("lg"),{fontSize:"0.8rem"}),Object(d.a)(a,e.breakpoints.only("lg"),{fontSize:"1rem"}),a)}}))((function(e){var t=e.scheduleData,a=e.setScheduleData,n=e.classes;return r.a.createElement("div",null,t.map((function(e,l){return r.a.createElement(bt,{key:l,dayOfWeek:l,classes:n,data:t.filter((function(e){return e.dayOfWeek===l}))[0],setData:a})})))}));var Et=xe()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"}}}))((function(e){e.classes;var t=e.scheduleData,a=e.setScheduleData,n=e.workingScheduleEnabled,l=e.setWorkingScheduleEnabled;return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"subtitle1"},"Working schedule"),r.a.createElement(pt.a,{control:r.a.createElement(ft.a,{checked:n.hasSchedule,onChange:function(){var e=Object.assign({},n,{});e.hasSchedule=!e.hasSchedule,console.log(e),l(e)},color:"primary"}),label:"Enable working schedule for this place"}),r.a.createElement("br",null),n.hasSchedule&&r.a.createElement(ht,{scheduleData:t,setScheduleData:a}))})),vt=a(742),Ct=a(89),Ot=a.n(Ct);var kt=Object(_.a)((function(e){var t,a;return{button:{margin:e.spacing(2)},paperContent:(t={marginTop:e.spacing(4)},Object(d.a)(t,e.breakpoints.down("lg"),{width:"95%",padding:e.spacing(2)}),Object(d.a)(t,e.breakpoints.up("lg"),{width:"70%",padding:e.spacing(4)}),t),root:{height:"100vh"},loader:{display:"flex",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh"},content:(a={display:"flex",flexDirection:"column",alignItems:"center",height:"calc(93vh - 64px)"},Object(d.a)(a,e.breakpoints.down("lg"),{width:"100%",padding:e.spacing(1)}),Object(d.a)(a,e.breakpoints.up("lg"),{width:"auto",padding:e.spacing(8)}),Object(d.a)(a,"overflowY","auto"),a),bottom:{display:"flex",alignItems:"center",justifyContent:"space-around",padding:e.spacing(1),height:"7vh"}}}))((function(e){var t=e.classes,a=e.match,l=Object(n.useState)({placeId:"",name:"",description:"",website:"",phoneNumber:"",hasSchedule:!1,isPublic:!1,isVerified:!0}),i=Object(m.a)(l,2),c=i[0],o=i[1],s=Object(n.useState)([]),u=Object(m.a)(s,2),d=u[0],g=u[1],p=Object(n.useState)([]),f=Object(m.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)([]),v=Object(m.a)(E,2),C=v[0],O=v[1],k=Object(n.useState)({city:"",address:"",country:"",latitude:54.687157,longitude:25.279652}),y=Object(m.a)(k,2),P=y[0],j=y[1],S=Object(n.useState)({city:"",address:"",country:"",latitude:54.687157,longitude:25.279652}),A=Object(m.a)(S,2),w=A[0],I=A[1],L=Object(n.useState)([]),D=Object(m.a)(L,2),N=D[0],x=D[1],T=Object(n.useState)(gt),R=Object(m.a)(T,2),W=R[0],F=R[1],B=Object(n.useState)(a.params.placeId),M=Object(m.a)(B,2),G=M[0],q=M[1],z=Object(n.useState)(!0),H=Object(m.a)(z,2),U=H[0],K=H[1],Y=Object(n.useState)(!1),J=Object(m.a)(Y,2),Z=J[0],X=J[1],Q=Ae().addConfig,$=ye().addAlertConfig,te=Object(_.a)((function(e){return{root:{color:e.palette.getContrastText(Ot.a[500]),backgroundColor:Ot.a[500],"&:hover":{backgroundColor:Ot.a[700]}}}}))(fe.a);function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.SNACKBAR_ERROR;Q(e,t),X(!1)}function ne(){void 0===G?$(Pe.DIALOG_PLACE_INSERT_TITLE,Pe.DIALOG_PLACE_INSERT,(function(){X(!0),pe.Places.insertPlace(ue()).then((function(e){q(e)})).catch((function(e){}))})):$(Pe.DIALOG_PLACE_UPDATE_TITLE,Pe.DIALOG_PLACE_UPDATE,(function(){X(!0),re()}))}function re(){Promise.all([void pe.Places.updatePlace(ue()).then((function(e){})).catch((function(e){})),ie(G),oe(G),ce(G),le(G),se(G)]).then((function(e){ae(!0,Pe.SNACKBAR_CHANGES_SAVED)})).catch((function(e){ae(!1)}))}function le(e){pe.ParkingPlace.updateParkingForPlace(N,"?p="+e).then((function(e){})).catch((function(e){}))}function ie(e){pe.TagsPlace.updateTagsForPlace(d,"?p="+e).then((function(e){})).catch((function(e){}))}function ce(e){pe.CategoriesPlace.updateCategoriesForPlace(b,"?p="+e).then((function(e){})).catch((function(e){}))}function oe(e){pe.PhotoPlace.updatePhotoForPlace(C,"?p="+e).then((function(e){})).catch((function(e){}))}function se(e){console.log(W),c.hasSchedule&&pe.Schedule.updateScheduleForPlace(W,"?p="+e).then((function(e){})).catch((function(e){}))}function ue(){var e=Object.assign(c,P);return console.log(e),e}return Object(n.useEffect)((function(){void 0!==G?(console.log("Getting place location"),pe.Places.getPlaceById("?full=true&p="+G).then((function(e){var t;t=e,console.log(t),o({placeId:t.placeId,name:t.name,description:t.description,website:t.website,phoneNumber:t.phoneNumber,hasSchedule:t.hasSchedule,isPublic:t.isPublic,isVerified:t.isVerified}),j({city:t.city,address:t.address,country:t.country,latitude:t.latitude,longitude:t.longitude}),g(t.tags),h(t.categories),t.schedule.length>0&&F(t.schedule),x(t.parking),O(t.photos),K(!1)})).catch((function(e){ae(!1)}))):(console.log("Came here to add new place"),K(!1)),void 0!==G&&!1===U&&(console.log("Just added new place"),Promise.all([ie(G),le(G),ce(G),oe(G),se(G)]).then((function(e){ae(!0,Pe.SNACKBAR_PLACE_INSERTED_SUCCESS)})).catch((function(e){ae(!1)})))}),[G]),Object(n.useEffect)((function(){!1===U&&(console.log("Making this place public"),re())}),[c.isPublic]),r.a.createElement("div",{className:t.root},U?r.a.createElement("div",{className:t.loader},r.a.createElement(vt.a,null)):r.a.createElement("div",{className:t.content},r.a.createElement(V.a,{elevation:4,className:t.paperContent},r.a.createElement(Le,{placeInfo:c,setPlaceInfo:o})),r.a.createElement(V.a,{elevation:4,className:t.paperContent},r.a.createElement(Ze,{photos:C,setPhotos:O})),r.a.createElement(V.a,{elevation:4,className:t.paperContent},r.a.createElement(it,{locationData:P,setLocationData:j})),r.a.createElement(V.a,{elevation:4,className:t.paperContent},r.a.createElement(ct,{allSelectedParkingData:N,setAllSelectedParkingData:x,parkingMarkerData:w,setParkingMarkerData:I})),r.a.createElement(V.a,{elevation:4,className:t.paperContent},r.a.createElement(mt,{selectedTags:d,setSelectedTags:g,selectedCategories:b,setSelectedCategories:h})),r.a.createElement(V.a,{elevation:4,className:t.paperContent},r.a.createElement(Et,{workingScheduleEnabled:c,setWorkingScheduleEnabled:o,scheduleData:W,setScheduleData:F}))),Z?r.a.createElement(ee.a,null):null,r.a.createElement(V.a,{elevation:1,className:t.bottom},!1===c.isVerified&&void 0!==G?r.a.createElement(te,{variant:"contained",color:"primary",onClick:function(){$(Pe.DIALOG_PLACE_VERIFY_TITLE,Pe.DIALOG_PLACE_VERIFY_MESSAGE,(function(){var e=Object.assign({},c,{});e.isPublic=1,e.isVerified=1,o(e)}))},className:t.button},"Verify place"):r.a.createElement(pt.a,{control:r.a.createElement(ft.a,{checked:c.isPublic,onChange:function(){$(Pe.DIALOG_PLACE_PUBLISH_TITLE,c.isPublic?Pe.DIALOG_PLACE_UNPUBLISH_MESSAGE:Pe.DIALOG_PLACE_PUBLISH_MESSAGE,(function(){var e=Object.assign({},c,{});e.isPublic=!e.isPublic,o(e)}))},name:"isPublic"}),label:"Make this place public"}),r.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){return ne()},className:t.button},"Save")))})),yt=a(169),Pt=a.n(yt),jt=a(744),St=a(743),At=a(226),wt=a.n(At),It=a(758);function Lt(e){var t=e.categories;return null!=t&&r.a.createElement(Ee.a,{component:"ul",style:{display:"flex",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:"0px"}},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(st.a,{variant:"outlined",style:{margin:"5px"},label:e.name}))})))}function Dt(e){var t=e.city,a=e.address,l=e.priceRange,i=e.rating;return r.a.createElement("div",null,null!=i&&r.a.createElement(n.Fragment,null,r.a.createElement(It.a,{readOnly:!0,value:i}),r.a.createElement("br",null)),(null!=a?a:"")+" "+(null!=t?t:"")," ",r.a.createElement("div",{style:{color:"green"}},l))}var Nt=xe()((function(e){var t;return{root:(t={},Object(d.a)(t,e.breakpoints.down("lg"),{width:"95%"}),Object(d.a)(t,e.breakpoints.up("lg"),{width:"28vw"}),Object(d.a)(t,"margin",e.spacing(1)),t),media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:wt.a[500]}}}))((function(e){var t,a=e.classes,n=e.placeData;return r.a.createElement(We.a,{className:a.root},r.a.createElement(St.a,{action:r.a.createElement(P.a,{"aria-label":"settings"},r.a.createElement(Pt.a,null)),title:n.name,subheader:r.a.createElement(Dt,{city:n.city,address:n.address,priceRange:n.priceRange,rating:n.overallStarRating})}),null!=n.photos&&r.a.createElement(Re.a,{className:a.media,image:n.photos[0].url}),r.a.createElement(jt.a,null,r.a.createElement(k.a,{variant:"body2",color:"textSecondary",component:"p"},null==(t=n.description)?"":t.length>500?t.substring(0,500)+"...":t),r.a.createElement(Lt,{categories:n.categories}),r.a.createElement(k.a,{variant:"body2",color:"textSecondary",component:"p"},n.website)),r.a.createElement(Fe.a,{disableSpacing:!0}))})),xt=a(227),Tt=a.n(xt),_t=a(346),Rt=a.n(_t),Wt=a(355),Ft=a(347),Bt=a.n(Ft),Mt=a(107),Gt=Object(f.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",margin:e.spacing(2)},iconButton:{padding:10},input:{marginLeft:e.spacing(1),flex:1},divider:{margin:4}}}));function qt(e){var t=e.hint,a=e.searchCallback,n=Gt(),l=Object(Mt.a)((function(e){return function(e){a(e.target.value)}(e)}),300);return r.a.createElement(V.a,{component:"form",className:n.root},r.a.createElement(Wt.a,{className:n.input,placeholder:t,inputProps:{"aria-label":t},onChange:function(e){e.persist(),l(e)}}),r.a.createElement(P.a,{className:n.iconButton,"aria-label":"search"},r.a.createElement(Bt.a,null)),r.a.createElement(y.a,{className:n.divider,orientation:"vertical"}))}var zt=xe()((function(e){return{root:{overflow:"scroll",width:"100%",padding:e.spacing(1),height:"calc(100vh - 64px)",paddingTop:"9vh"},topBar:{height:"8vh",position:"absolute",width:"60%",marginLeft:"auto",marginRight:"auto",left:0,right:0,justifyContent:"center",zIndex:1},searchBox:{margin:e.spacing(1)}}}))((function(e){var t=e.classes,a=Object(n.useState)([]),l=Object(m.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],g=Object(n.useState)(null),p=Object(m.a)(g,2),f=p[0],b=p[1],h=Object(n.useState)("Kaunas"),E=Object(m.a)(h,2),v=E[0],C=E[1],O=function(e,t){d(!0),pe.Places.searchApiPlaces("?keyword="+encodeURI(e)+(null!=t?"&after="+t:"")).then((function(e){c((function(t){return[].concat(Object(De.a)(t),Object(De.a)(e.data))})),b(e.after)})).catch((function(e){})).finally((function(){d(!1)}))},k=Tt()((function(e){return function(e){Math.round(e.target.scrollHeight-e.target.scrollTop-250)<=e.target.clientHeight&&!u&&O(v,f)}(e)}),200);return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{className:t.topBar},r.a.createElement(qt,{searchCallback:function(e){c([]),O(v,null),C(e)},hint:"Search api places",style:t.searchBox})),r.a.createElement("div",{className:t.root,onScroll:function(e){return function(e){e.persist(),k(e)}(e)}},r.a.createElement(Rt.a,{style:{margin:"0 auto"},elementType:"div",options:{isFitWidth:!0},disableImagesLoaded:!1,updateOnEachImageLoad:!1},i.map((function(e){return r.a.createElement(Nt,{key:e.placeId,placeData:e,style:{boxSizing:"border-box"}})}))),u&&r.a.createElement(vt.a,null)))})),Ht=Object(f.a)((function(e){return{root1:{overflow:"hidden",display:"flex",height:"100vh",background:"#F1F1F1"},appBar:{height:"64px",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(g.a)(Object(g.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{width:"100vw",height:"100%",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{width:"100vw",height:"100%",transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function Ut(){var e=Ht(),t=Object(b.a)(),a=Object(n.useState)(!1),l=Object(m.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)("Home"),s=Object(m.a)(o,2),u=s[0],g=s[1];return r.a.createElement("div",{className:e.root1},r.a.createElement(E.a,null),r.a.createElement(v.a,{position:"fixed",className:Object(p.a)(e.appBar,Object(d.a)({},e.appBarShift,i))},r.a.createElement(C.a,null,r.a.createElement(P.a,{color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},edge:"start",className:Object(p.a)(e.menuButton,i&&e.hide)},r.a.createElement(S.a,null)),r.a.createElement(k.a,{variant:"h6",noWrap:!0},u))),r.a.createElement(x.b,{history:Ce},r.a.createElement(h.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(P.a,{onClick:function(){c(!1)}},"ltr"===t.direction?r.a.createElement(w.a,null):r.a.createElement(L.a,null))),r.a.createElement(y.a,null),r.a.createElement(O.a,null,r.a.createElement(D.a,{button:!0,component:T.a,to:"/",onClick:function(){return g("Home")}},r.a.createElement(N.a,null,"Home")),r.a.createElement(y.a,{light:!0}),r.a.createElement(D.a,{button:!0,component:T.a,to:"/places",onClick:function(){return g("Place")}},r.a.createElement(N.a,null,"Places")),r.a.createElement(D.a,{button:!0,component:T.a,to:"/apiplaces",onClick:function(){return g("Api places")}},r.a.createElement(N.a,null,"Explore API places")),r.a.createElement(D.a,{button:!0,component:T.a,to:"/addplace",onClick:function(){return g("Add Place")}},r.a.createElement(N.a,null,"Add place")))),r.a.createElement("main",{className:Object(p.a)(e.content,Object(d.a)({},e.contentShift,i))},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(x.a,{exact:!0,path:"/",component:R}),r.a.createElement(x.a,{path:"/places",component:Ie}),r.a.createElement(x.a,{path:"/addplace/:placeId?",component:kt}),r.a.createElement(x.a,{path:"/apiplaces",component:zt}),r.a.createElement(x.a,{path:"/addplace",component:kt}))))}var Vt=a(762),Kt=a(753);function Yt(e){var t=Ae(),a=t.config,n=t.removeConfig;return r.a.createElement(Vt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!!a,autoHideDuration:4e3,onClose:n},r.a.createElement(Kt.a,{onClose:n,severity:a?a.success?"success":"error":""},!!a&&a.message))}var Jt=a(749),Zt=function(){var e=ye(),t=e.alertConfig,a=e.removeAlertConfig;function n(){void 0!==t.onClose&&t.onClose(),a()}return r.a.createElement(ze.a,{open:!!t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(He.a,{id:"alert-dialog-title"},t?t.title:""),r.a.createElement(Ue.a,null,r.a.createElement(Jt.a,{id:"alert-dialog-description"},t?t.message:"")),r.a.createElement(Ve.a,null,r.a.createElement(fe.a,{onClick:n,color:"primary"},"Close"),r.a.createElement(fe.a,{onClick:t?function(){a(),t.func()}:{},color:"primary",autoFocus:!0},"Agree")))},Xt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null,r.a.createElement(Se,null,r.a.createElement(Ut,null),r.a.createElement(Yt,null),r.a.createElement(Zt,null))))}}]),a}(n.Component);i.a.render(r.a.createElement(Xt,null),document.getElementById("root"))}},[[379,1,2]]]);
//# sourceMappingURL=main.c84ab495.chunk.js.map