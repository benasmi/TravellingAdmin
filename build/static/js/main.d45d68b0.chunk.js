(this["webpackJsonptravelling-admin"]=this["webpackJsonptravelling-admin"]||[]).push([[0],{344:function(e,a,t){e.exports=t(594)},594:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),i=t.n(l),c=t(288),o=t(289),s=t(319),u=t(318),d=t(84),m=t(10),g=t(194),p=t(3),f=t(654),b=t(19),h=t(687),E=t(677),v=t(678),k=t(655),y=t(659),O=t(104),j=t(679),C=t(598),S=t(313),w=t.n(S),P=t(315),x=t.n(P),I=t(316),D=t.n(I),N=t(664),L=t(680),W=t(76),T=t(161),A=t(5),M=Object(A.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"}}}))((function(e){e.classes;return r.a.createElement("div",null,"Home")})),R=t(9),z=t(662),F=t(663),B=t(653),_=t(661),q=t(651),H=t(683),G=t(652),Z=t(690),X=t(203),J=t(686),K=t(656),U=t(55),Q=t.n(U),V=t(295),Y=t.n(V),$=t(682);var ee=t(660);function ae(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}function te(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,l=e.orderBy,i=e.numSelected,c=e.rowCount,o=e.onRequestSort,s=e.headCells,u=e.checkable;return r.a.createElement(q.a,null,r.a.createElement(G.a,null,u?r.a.createElement(B.a,{padding:"checkbox"},r.a.createElement(J.a,{indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:t,inputProps:{"aria-label":"select all desserts"}})):null,s.map((function(e){return r.a.createElement(B.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:l===e.id&&n},r.a.createElement(Z.a,{active:l===e.id,direction:l===e.id?n:"asc",onClick:(t=e.id,function(e){o(e,t)})},e.label,l===e.id?r.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))}var ne=Object(f.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(R.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),re=function(e){var a=ne(),t=e.numSelected,l=e.title,i=e.changePageCallback,c=e.keyword,o=e.setKeyword,s=function(e,a){var t=Object(n.useState)(e),r=Object(m.a)(t,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){var t=setTimeout((function(){i(e)}),a);return function(){clearTimeout(t)}}),[e]),l}(c,300);return Object(n.useEffect)((function(){i(1,c)}),[s]),r.a.createElement(k.a,{className:Object(p.a)(a.root,Object(d.a)({},a.highlight,t>0))},t>0?r.a.createElement(O.a,{className:a.title,color:"inherit",variant:"subtitle1",component:"div"},t," selected"):r.a.createElement(O.a,{className:a.title,variant:"h6",id:"tableTitle",component:"div"},l),t>0?r.a.createElement(K.a,{title:"Delete"},r.a.createElement(C.a,{"aria-label":"delete"},r.a.createElement(Q.a,null))):r.a.createElement($.a,{id:"standard-basic",label:"Search",onChange:function(e){o(e.target.value)}}))},le=Object(f.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},centerCell:{textAlign:"center",width:"100%"}}}));function ie(e){var a=e.title,t=e.headCells,l=e.pagingInfo,i=e.data,c=e.checkable,o=e.changePageCallback,s=e.updateCallback,u=(e.removeCallback,e.id),d=e.isLoading,g=le(),p=r.a.useState("asc"),f=Object(m.a)(p,2),b=f[0],h=f[1],E=r.a.useState("calories"),v=Object(m.a)(E,2),k=v[0],y=v[1],j=r.a.useState([]),S=Object(m.a)(j,2),w=S[0],P=S[1],x=r.a.useState(0),I=Object(m.a)(x,2),D=I[0],N=I[1],L=r.a.useState(!1),W=Object(m.a)(L,2),T=W[0],A=(W[1],r.a.useState(10)),M=Object(m.a)(A,2),R=M[0],q=M[1],Z=Object(n.useState)(""),K=Object(m.a)(Z,2),U=K[0],V=K[1],$=R-Math.min(R,i.length-D*R);return r.a.createElement("div",{className:g.root},r.a.createElement(X.a,{className:g.paper},d?r.a.createElement(ee.a,null):null,r.a.createElement(re,{title:a,numSelected:w.length,changePageCallback:o,keyword:U,setKeyword:V}),r.a.createElement(_.a,null,r.a.createElement(z.a,{className:g.table,"aria-labelledby":"tableTitle",size:T?"small":"medium","aria-label":"enhanced table"},r.a.createElement(te,{classes:g,numSelected:w.length,order:b,orderBy:k,onSelectAllClick:function(e){if(e.target.checked){var a=i.map((function(e){return e.name}));P(a)}else P([])},onRequestSort:function(e,a){h(k===a&&"asc"===b?"desc":"asc"),y(a)},rowCount:i.length,headCells:t,checkable:c}),r.a.createElement(F.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(i,function(e,a){return"desc"===e?function(e,t){return ae(e,t,a)}:function(e,t){return-ae(e,t,a)}}(b,k)).slice(D*R,D*R+R).map((function(e,a){var n,l=(n=e.name,-1!==w.indexOf(n)),i="enhanced-table-checkbox-".concat(a);return r.a.createElement(G.a,{hover:!0,onClick:function(a){e.name},role:"checkbox","aria-checked":l,tabIndex:-1,key:e.name,selected:l},c?r.a.createElement(B.a,{padding:"checkbox"},r.a.createElement(J.a,{checked:l,onChange:function(a){return function(e,a){var t=w.indexOf(a),n=[];-1===t?n=n.concat(w,a):0===t?n=n.concat(w.slice(1)):t===w.length-1?n=n.concat(w.slice(0,-1)):t>0&&(n=n.concat(w.slice(0,t),w.slice(t+1))),P(n)}(0,e.name)},inputProps:{"aria-labelledby":i}})):null,t.map((function(a){return a.isId?r.a.createElement(B.a,{component:"th",id:i,scope:"row"},e[a.id]):"actions"===a.id?r.a.createElement(B.a,null,r.a.createElement("div",null,r.a.createElement(C.a,{onClick:function(){return s(e[u])},size:"small","aria-label":"edit"},r.a.createElement(Y.a,{fontSize:"small"})),r.a.createElement(C.a,{size:"small","aria-label":"delete"},r.a.createElement(Q.a,{fontSize:"small"})))):r.a.createElement(B.a,{align:a.numeric?"right":"left"},e[a.id])})))})),$>0&&r.a.createElement(G.a,{style:{height:(T?33:53)*$}},i.length>0?r.a.createElement(B.a,{colSpan:6}):!d&&r.a.createElement(B.a,{colSpan:6,className:g.centerCell},r.a.createElement(O.a,{variant:"h6",noWrap:!0},"No results")))))),r.a.createElement(H.a,{rowsPerPageOptions:[10],component:"div",count:null!==l?l.total:i.length,rowsPerPage:R,page:null!==l?l.pageNum-1:D,onChangePage:function(e,a){null!==l?o(a+1,U):N(a)},onChangeRowsPerPage:function(e){q(parseInt(e.target.value,10)),N(0),console.log("handleChangeRowsPerPage")}})))}var ce=t(158),oe=t.n(ce),se=t(296),ue=t(159),de=t.n(ue),me=function(){var e=Object(se.a)(oe.a.mark((function e(a){var t,n,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=de.a.create({baseURL:"http://izbg.l.dedikuoti.lt:8080/",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"}}),n=function(e){return console.debug("Request Successful!",e),e.data},r=function(e){return console.debug("Request Failed:",e.config),e.response?(console.debug("Status:",e.response.status),console.debug("Data:",e.response.data),console.debug("Headers:",e.response.headers)):console.debug("Error Message:",e.message),Promise.reject(e.response||e.message)},e.abrupt("return",t(a).then(n).catch(r));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ge={getRequest:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return me({url:e+a,method:"GET"})},postRequest:function(e,a){return me({url:e,method:"POST",data:a})}},pe={getAllPlaces:function(e){return ge.getRequest("api/v1/place/search",e)},getAllTags:function(){return ge.getRequest("api/v1/tags/all")},getAllCategories:function(){return ge.getRequest("api/v1/categories/all")},addTag:function(e){return ge.postRequest("api/v1/tags/insert",e)},addCategory:function(e){return ge.postRequest("api/v1/categories/insert",e)},addPhoto:function(e){return ge.postRequest("api/v1/photo/insert",e)},uploadPhoto:function(e){return ge.postRequest("api/v1/photo/upload",e)},getParkingByLocation:function(e){return ge.getRequest("api/v1/parking/search",e)},insertNewParking:function(e){return ge.postRequest("api/v1/parking/insert",e)}},fe=t(666),be=t(56),he=t.n(be),Ee=t(688),ve=t(39),ke=Object(ve.a)(),ye=[{id:"name",numeric:!1,disablePadding:!1,label:"Place name",isId:!0},{id:"address",numeric:!1,disablePadding:!1,label:"Address",isId:!1},{id:"city",numeric:!1,disablePadding:!1,label:"City",isId:!1},{id:"country",numeric:!1,disablePadding:!1,label:"Country",isId:!1},{id:"phoneNumber",numeric:!1,disablePadding:!1,label:"Phone Number",isId:!1},{id:"actions",numeric:!1,disablePadding:!1,label:"Actions",isId:!1}];var Oe=Object(A.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"},buttonsDiv:{display:"flex",backgroundColor:"red",justifyContent:"flex-end"}}}))((function(e){var a=Object(n.useState)([]),t=Object(m.a)(a,2),l=t[0],i=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(!0),g=Object(m.a)(d,2),p=g[0],f=g[1],b=e.classes;function h(e){f(!1);var a=[];e.list.map((function(e){a.push(e)})),delete e.list,i(a),u(e),console.log(e)}return Object(n.useEffect)((function(){E()}),[]),r.a.createElement("div",{className:b.root},r.a.createElement(ie,{title:"Places",headCells:ye,data:l,pagingInfo:s,checkable:!1,changePageCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(!0),E("?p="+e+"&s=10&keyword="+a)},updateCallback:function(e){console.log(e)},id:"placeId",isLoading:p}),r.a.createElement(Ee.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(fe.a,{onClick:function(){ke.push("/addplace")},variant:"text",color:"secondary",size:"large",className:b.button,startIcon:r.a.createElement(he.a,null)},"Add")));function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";pe.getAllPlaces(e).then((function(e){h(e)})).catch((function(e){console.log(e)}))}})),je=t(689),Ce=t(676),Se=t(685);var we=Object(A.a)((function(e){return{}}))((function(){return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h6"},"Basic place information"),r.a.createElement("br",null),r.a.createElement($.a,{label:"Place name",style:{margin:8},placeholder:"Enter the place name",fullWidth:!0,variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Place description",style:{margin:8},placeholder:"Describe the place thoroughly",fullWidth:!0,multiline:!0,variant:"outlined",rows:4,margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Phone number",style:{margin:8},placeholder:"Enter phone number",fullWidth:!0,variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Website",style:{margin:8},placeholder:"Enter website",fullWidth:!0,variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}))})),Pe=t(45),xe=t(43),Ie=t.n(xe),De=t(78),Ne=t(297),Le=t(668),We=t(667),Te=t(669),Ae=function(e){e.index;var a=e.onItemDelete,t=e.photo,n=e.margin,l=e.direction,i=e.top,c=e.left,o={imgContainer:{margin:n,display:"inline",position:"relative",width:"300px",height:"300px"}};"column"===l&&(o.imgContainer.position="absolute",o.imgContainer.imgStyle.left=c,o.imgContainer.imgStyle.top=i);return r.a.createElement(We.a,{style:o.imgContainer},r.a.createElement(Le.a,{style:{height:0,paddingTop:"80%"},image:t.src}),r.a.createElement(Te.a,{disableSpacing:!0},r.a.createElement(fe.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(Q.a,null),onClick:function(e){a(t)}},"Delete")))},Me=Object(De.b)((function(e){return r.a.createElement(Ae,e)})),Re=Object(De.a)((function(e){var a=e.items,t=e.onItemDelete;return r.a.createElement(Ne.a,{photos:a,renderImage:function(e){return r.a.createElement(Me,Object.assign({},e,{onItemDelete:t}))}})}));var ze=function(e){var a=e.setPhotos,t=e.photos,n=e.srcName,l=e.keyName,i=t.map((function(e){return{key:e[l].toString(),src:e[n],width:1,height:1}}));return console.log(i),r.a.createElement("div",null,r.a.createElement(Re,{distance:10,items:i,onSortEnd:function(e){var n=e.oldIndex,r=e.newIndex;a(Object(De.c)(t,n,r))},axis:"xy",onItemDelete:function(e){a(t.filter((function(a){return a[l].toString()!==e.key})))}}))},Fe=t(670),Be=t(671),_e=t(672),qe=t(673),He=t(317),Ge=["image/jpeg","image/png","image/bmp","image/jpg"];var Ze=Object(A.a)((function(e){return{}}))((function(e){var a=e.onCloseCallback,t=e.open,l=e.onFinishCallback,i=Object(n.useState)(!1),c=Object(m.a)(i,2),o=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(Fe.a,{"aria-labelledby":"customized-dialog-title",open:t,fullWidth:!0},r.a.createElement(Be.a,{id:"customized-dialog-title"},"Photo upload"),o&&r.a.createElement(ee.a,{variant:"query"}),r.a.createElement(_e.a,{dividers:!0},r.a.createElement(He.a,{acceptedFiles:Ge,dropzoneProps:{disabled:o},filesLimit:1,onDrop:function(e){return function(e){s(!0),console.log(e);var a=new FormData,t=e[0];a.append("image",t),de.a.post("http://izbg.l.dedikuoti.lt:8080/api/v1/photo/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),l(e.data)})).catch((function(){l()})).finally((function(){s(!1)}))}(e)}})),r.a.createElement(qe.a,null,r.a.createElement(fe.a,{onClick:a,color:"primary"},"Cancel"))))}));var Xe=Ie()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)}}}))((function(e){var a=e.classes,t=e.setPhotos,l=e.photos,i=Object(n.useState)(!1),c=Object(m.a)(i,2),o=c[0],s=c[1];return r.a.createElement(We.a,{variant:"outlined",className:a.outline},l.length>0&&r.a.createElement(ze,{keyName:"photoId",srcName:"url",setPhotos:t,photos:l}),r.a.createElement(fe.a,{variant:"text",color:"primary",size:"small",style:{width:"15%"},className:a.button,onClick:function(){return s(!0)},startIcon:r.a.createElement(he.a,null)},"Add photo"),r.a.createElement(Ze,{open:o,onFinishCallback:function(e){return function(e){s(!1),null!=e&&t([].concat(Object(Pe.a)(l),[e]))}(e)},onCloseCallback:function(){return s(!1)}}))})),Je=t(309),Ke=t.n(Je),Ue=t(160),Qe=t.n(Ue),Ve=t(89),Ye=t(79),$e={};var ea=Ie()((function(e){return{content:{margin:e.spacing(1)},autocomplete:{width:"200px",height:"40px",fontSize:"14px"}}}))((function(e){var a=e.classes,t=e.locationData,l=e.setLocationData,i=e.mapHeight,c=e.selectedParkingCallback,o=e.changedParkingMarkerCallback,s=e.addParkingCallback;function u(e,a,n,r,i,c){var s=Object.assign({},t,{});s.city=e,s.country=a,s.address=n,s.lat=r,s.lng=i,l(s),$e=s,void 0!==o&&o(e,n,a,r,i,c)}Qe.a.setApiKey("AIzaSyDGFjZHSoRrZ2AEO0ONXvjuN4RiCmknXf8"),Qe.a.enableDebug();var d=function(e){for(var a=0;a<e.length;a++)if(e[a].types[0]&&"administrative_area_level_2"===e[a].types[0])return e[a].long_name},m=function(e){for(var a=0;a<e.length;a++)if(e[a].types[0]&&"country"===e[a].types[0])return e[a].long_name},g=function(e){for(var a=0;a<e.length;a++)if(e[a].types[0])for(var t=0;t<e[a].types.length;t++)if("sublocality_level_1"===e[a].types[t]||"locality"===e[a].types[t])return e[a].long_name},p=function(e){for(var a=0;a<e.length;a++)for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_1"===e[t].types[0])return e[t].long_name},f=Object(Ve.a)(Object(Ve.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDGFjZHSoRrZ2AEO0ONXvjuN4RiCmknXf8&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:i}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Object(Ve.c)({infoWindow:{show:!1}},{toggleDraggableInfoWindow:function(e){e.draggableMarkerLocation;return function(e){return{infoWindow:{show:e}}}}}),Ye.withScriptjs,Ye.withGoogleMap)((function(e){return r.a.createElement(Ye.GoogleMap,{defaultZoom:12,center:{lat:e.markerLocation.lat,lng:e.markerLocation.lng},defaultCenter:{lat:e.markerLocation.lat,lng:e.markerLocation.lng}},r.a.createElement(Ye.Marker,{name:"Dolores park",visible:!0,draggable:!0,onClick:function(){return e.toggleDraggableInfoWindow(!0)},onDragEnd:function(a){return function(e,a,t){var n=e.latLng.lat(),r=e.latLng.lng();a(n,r),Qe.a.fromLatLng(n,r).then((function(e){var a=e.results[0].formatted_address,l=e.results[0].address_components,i=d(l);g(l),p(l);u(i,p(l),a,n,r,t)}),(function(e){console.error(e)}))}(a,e.markerChanger,e.onParkingDataChange)},position:{lat:e.markerLocation.lat,lng:e.markerLocation.lng}},e.infoWindow.show&&s&&r.a.createElement(Ye.InfoWindow,{onCloseClick:function(){e.toggleDraggableInfoWindow(!1)}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.address,r.a.createElement(fe.a,{onClick:function(){return s($e)},variant:"text",color:"secondary",size:"large",className:a.button,startIcon:r.a.createElement(he.a,null)},"Add new parking")))),(n=e.onToggleOpen,l=e.infoWindows,e.parkingData.map((function(e,t){var i=parseFloat(e.latitude),o=parseFloat(e.longitude);return r.a.createElement(Ye.Marker,{key:e.parkingId,position:{lat:i,lng:o},options:{icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/parking_lot_maps.png"},onClick:function(){return n(e.parkingId)}},l[t].showInfo&&r.a.createElement(Ye.InfoWindow,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},e.address,r.a.createElement(fe.a,{onClick:function(){c(e)},variant:"text",color:"secondary",size:"large",className:a.button,startIcon:r.a.createElement(he.a,null)},"Add parking"))))}))));var n,l})),b=Object(Ve.a)(Object(Ve.b)(),Object(Ve.c)({draggableMarkerLocation:{lat:void 0!==t?t.lat:54.686047,lng:void 0!==t?t.lng:25.2775476},parkingData:[],infoWindows:[]},{onMarkerLocationChanged:function(e){e.draggableMarkerLocation;return function(e,a){return{draggableMarkerLocation:{lat:e,lng:a}}}},onParkingDataChange:function(e){e.parkingData;return function(e){return{parkingData:e.map((function(e){return e})),infoWindows:e.map((function(e){return{parkingId:e.parkingId,showInfo:!1}}))}}},onToggleOpen:function(e){var a=e.infoWindows;return function(e){return{infoWindows:a.map((function(a,t){return a.showInfo=e===a.parkingId,a}))}}}}))((function(e){return r.a.createElement("div",{className:a.content},r.a.createElement(Ke.a,{className:a.autocomplete,onPlaceSelected:function(a){!function(e,a,t){var n=e.formatted_address,r=e.address_components,l=d(r),i=(g(r),p(r),m(r)),c=e.geometry.location.lat(),o=e.geometry.location.lng();a(c,o),u(l,i,n,c,o,t)}(a,e.onMarkerLocationChanged,e.onParkingDataChange)},types:["(regions)"]}),r.a.createElement(f,{markerChanger:e.onMarkerLocationChanged,markerLocation:e.draggableMarkerLocation,onParkingDataChange:e.onParkingDataChange,parkingData:e.parkingData,onToggleOpen:e.onToggleOpen,infoWindows:e.infoWindows}))}));return Object(n.useMemo)((function(){return r.a.createElement(b,null)}),[])}));var aa=Ie()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)}}}))((function(e){var a=e.locationData,t=e.setLocationData;function n(e){var n=e.target,r=n.name,l=n.value,i=Object.assign({},a,{});i[r]=l,t(i)}return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h6"},"Place location"),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"subtitle1"},"Select place location from map"),r.a.createElement("br",null),r.a.createElement(ea,{mapHeight:200,locationData:a,setLocationData:t}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"subtitle1"},"Place location"),r.a.createElement("br",null),r.a.createElement($.a,{label:"Address",style:{margin:8},placeholder:"Enter place address",fullWidth:!0,disabled:!0,value:a.address,name:"address",onChange:function(e){n(e)},variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"City",disabled:!0,style:{margin:8},placeholder:"Enter place city",fullWidth:!0,value:a.city,name:"city",onChange:function(e){n(e)},variant:"outlined",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement($.a,{label:"Country",style:{margin:8},placeholder:"Enter place country",fullWidth:!0,disabled:!0,value:a.country,name:"country",onChange:function(e){n(e)},variant:"outlined",rows:4,margin:"normal",InputLabelProps:{shrink:!0}}))}));var ta=Ie()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"}}}))((function(e){var a=e.classes,t=e.parkingMarkerData,l=e.setParkingMarkerData,i=e.allSelectedParkingData,c=e.setAllSelectedParkingData,o=function(e,a,t){pe.getParkingByLocation("?lat="+e+"&lng="+a).then((function(e){var a=[];e.map((function(e){a.push(e)})),t(e)})).catch((function(e){}))},s=Object(De.b)((function(e){var t=e.value;return r.a.createElement(X.a,{className:a.paper,elevation:3},r.a.createElement(O.a,null,t.address),r.a.createElement(C.a,{"aria-label":"delete",className:a.margin,onClick:function(){return c(i.filter((function(e){return e.parkingId!==t.parkingId})))}},r.a.createElement(Q.a,{fontSize:"small"})))}));Object(n.useEffect)((function(){o(t.lat,t.lng)}),[]);var u=Object(De.a)((function(e){var a=e.items;return r.a.createElement("ul",null,a.map((function(e,a){return r.a.createElement(s,{key:a,index:a,value:e})})))}));return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h6"},"Add parking"),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"subtitle1"},"Select parking"),r.a.createElement(ea,{mapHeight:350,locationData:t,setLocationData:l,selectedParkingCallback:function(e){return c((function(a){return[].concat(Object(Pe.a)(a),[e])}))},changedParkingMarkerCallback:function(e,a,t,n,r,l){o(parseFloat(n),parseFloat(r),l)},addParkingCallback:function(e){e.latitude=e.lat,e.longitude=e.lng,pe.insertNewParking([e]).then((function(e){c((function(a){return[].concat(Object(Pe.a)(a),[e[0]])}))})).catch((function(e){console.log(e)}))}}),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"subtitle1"},"Selected parking locations"),r.a.createElement(u,{distance:10,items:i,onSortEnd:function(e){var a=e.oldIndex,t=e.newIndex;c(Object(De.c)(i,a,t))}}))})),na=t(684),ra=t(692);var la=Object(A.a)((function(e){return{autoComplete:{margin:e.spacing(1)},chip:{margin:e.spacing(.5)},root:{display:"flex",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(1),margin:0},autoCompleteChipContainer:{padding:e.spacing(1)}}}))((function(e){var a=e.options,t=e.selectedOptions,l=e.setSelectedOptions,i=e.classes,c=e.label,o=e.id,s=Object(n.useState)({name:""}),u=Object(m.a)(s,2),d=u[0],g=u[1],p=Object(n.useState)([]),f=Object(m.a)(p,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){h(a.filter((function(e){return!t.includes(e)})))}),[a,t]),r.a.createElement("div",null,r.a.createElement(Ee.a,{className:i.autoCompleteChipContainer},0!==t.length&&r.a.createElement(Ee.a,{component:"ul",className:i.root},t.map((function(e){return r.a.createElement("li",{key:e[o]},r.a.createElement(ra.a,{variant:"outlined",label:e.name,onDelete:function(){return a=e,l(t.filter((function(e){return e!==a}))),void h([].concat(Object(Pe.a)(b),[a]));var a},className:i.chip}))}))),r.a.createElement(na.a,{className:i.autoComplete,value:d,options:b,onChange:function(e,a){g({name:""}),l([].concat(Object(Pe.a)(t),[a])),h(b.filter((function(e){return e!==a})))},disableClearable:!0,getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement($.a,Object.assign({},e,{label:c,variant:"outlined"}))}})))}));var ia=Object(A.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){e.classes;var a=e.open,t=e.onCloseCallback,l=e.header,i=(e.description,e.textFieldLabel),c=e.action,o=Object(n.useState)(""),s=Object(m.a)(o,2),u=s[0],d=s[1],g=Object(n.useState)(!1),p=Object(m.a)(g,2),f=p[0],b=p[1];return r.a.createElement("div",null,r.a.createElement(Fe.a,{"aria-labelledby":"customized-dialog-title",open:a,fullWidth:!0},r.a.createElement(Be.a,{id:"customized-dialog-title"},l),r.a.createElement(_e.a,{dividers:!0},r.a.createElement($.a,{error:f,onChange:function(e){d(e.target.value)},label:i,variant:"outlined",fullWidth:!0})),r.a.createElement(qe.a,null,r.a.createElement(fe.a,{onClick:t,color:"primary"},"Cancel"),r.a.createElement(fe.a,{autoFocus:!0,color:"primary",onClick:function(){!function(){var e=!1;return u.length<=3&&(e=!0),b(e),e}()&&c(u)}},"Add"))))}));var ca=Ie()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"}}}))((function(e){var a=e.classes,t=e.selectedTags,l=e.setSelectedTags,i=e.selectedCategories,c=e.setSelectedCategories,o=Object(n.useState)(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],g=Object(n.useState)(!1),p=Object(m.a)(g,2),f=p[0],b=p[1],h=Object(n.useState)([]),E=Object(m.a)(h,2),v=E[0],k=E[1],y=Object(n.useState)([]),j=Object(m.a)(y,2),C=j[0],S=j[1];return Object(n.useEffect)((function(){console.log("ParsiunciaasdasdkasfkjlasdnfoasdFJasdfn;FN;"),pe.getAllTags().then((function(e){S(e),console.log(e)})).catch((function(e){console.log(e)})),pe.getAllCategories().then((function(e){k(e),console.log(e)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h6"},"Place discovery settings"),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"subtitle1"},"Select tags"),r.a.createElement(la,{label:"Select tags",id:"tagId",options:C,selectedOptions:t,setSelectedOptions:l}),r.a.createElement(fe.a,{variant:"text",color:"primary",size:"small",className:a.button,onClick:function(){return d(!0)},startIcon:r.a.createElement(he.a,null)},"Add missing tag"),r.a.createElement(ia,{action:function(e){pe.addTag([{name:e}]).then((function(a){var n={tagId:a[0],name:e};S([].concat(Object(Pe.a)(C),[n])),l([].concat(Object(Pe.a)(t),[n])),d(!1)})).catch((function(e){console.log(e)}))},textFieldLabel:"Name",open:u,onCloseCallback:function(){return d(!1)},header:"Add a new tag"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"subtitle1"},"Select categories"),r.a.createElement(la,{label:"Select categories",id:"categoryId",options:v,selectedOptions:i,setSelectedOptions:c}),r.a.createElement(fe.a,{variant:"text",color:"primary",size:"small",className:a.button,onClick:function(){return b(!0)},startIcon:r.a.createElement(he.a,null)},"Add a category"),r.a.createElement(ia,{action:function(e){pe.addCategory([{name:e}]).then((function(a){var t={categoryId:a[0],name:e};k([].concat(Object(Pe.a)(v),[t])),c([].concat(Object(Pe.a)(i),[t])),b(!1)})).catch((function(e){console.log(e)}))},textFieldLabel:"Name",open:f,onCloseCallback:function(){return b(!1)},header:"Add a new category"}))})),oa=[{dayOfWeek:0,openTime:"08:00",closeTime:"18:00",isClosed:!1},{dayOfWeek:1,openTime:"08:00",closeTime:"18:00",isClosed:!1},{dayOfWeek:2,openTime:"08:00",closeTime:"18:00",isClosed:!1},{dayOfWeek:3,openTime:"08:00",closeTime:"18:00",isClosed:!1},{dayOfWeek:4,openTime:"08:00",closeTime:"18:00",isClosed:!1},{dayOfWeek:5,openTime:"08:00",closeTime:"18:00",isClosed:!1},{dayOfWeek:6,openTime:"08:00",closeTime:"18:00",isClosed:!1}],sa=t(674),ua=t(675);function da(e){var a=e.dayOfWeek,t=e.setData,l=e.data,i=e.classes,c=Object(n.useState)(l.openTime),o=Object(m.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(l.closeTime),g=Object(m.a)(d,2),p=g[0],f=g[1],b=Object(n.useState)(l.isClosed),h=Object(m.a)(b,2),E=h[0],v=h[1];return r.a.useEffect((function(){t((function(e){return e.map((function(e){return e.dayOfWeek===a?{dayOfWeek:a,openTime:s,closeTime:p,isClosed:E}:e}))}))}),[s,E,p]),r.a.createElement(We.a,{elevation:1,className:i.scheduleCard},r.a.createElement(O.a,{variant:"h6"},["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][a]),r.a.createElement("div",null,!E&&r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{label:"Opening time",type:"time",value:s,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0},inputProps:{step:300}}),r.a.createElement($.a,{label:"Closing time",type:"time",onChange:function(e){return f(e.target.value)},value:p,InputLabelProps:{shrink:!0},inputProps:{step:300}})),r.a.createElement(J.a,{name:"checkedB",color:"primary",onChange:function(){return v((function(e){return!e}))},checked:!E})))}var ma=Object(A.a)((function(e){return{scheduleCard:{margin:e.spacing(1),padding:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"}}}))((function(e){var a=e.scheduleData,t=e.setScheduleData,n=e.classes;return r.a.createElement("div",null,a.map((function(e,l){return r.a.createElement(da,{key:l,dayOfWeek:l,classes:n,data:a.filter((function(e){return e.dayOfWeek===l}))[0],setData:t})})))}));var ga=Ie()((function(e){return{outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},button:{margin:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"}}}))((function(e){var a=e.classes,t=e.scheduleData,l=e.setScheduleData,i=Object(n.useState)(!1),c=Object(m.a)(i,2),o=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"subtitle1"},"Working schedule"),r.a.createElement(sa.a,{control:r.a.createElement(ua.a,{checked:o,onChange:function(){return s((function(e){return!e}))},color:"primary"}),label:"Enable working schedule for this place"}),r.a.createElement("br",null),o&&r.a.createElement(We.a,{variant:"outlined",className:a.outline},r.a.createElement(ma,{scheduleData:t,setScheduleData:l})))}));var pa=Object(A.a)((function(e){return{button:{margin:e.spacing(2)},bottomBar:{margin:e.spacing(2),display:"flex",justifyContent:"flex-end"},content:{margin:e.spacing(1),padding:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"},root:{width:"100%"},outline:{margin:e.spacing(1),padding:e.spacing(1),width:"100%"},addFromUrlWrapper:{margin:e.spacing(1),padding:e.spacing(1),display:"flex"}}}))((function(e){var a=e.classes,t=Object(n.useState)(0),l=Object(m.a)(t,2),i=l[0],c=l[1],o=Object(n.useState)([]),s=Object(m.a)(o,2),u=s[0],d=s[1],g=Object(n.useState)([]),p=Object(m.a)(g,2),f=p[0],b=p[1],h=Object(n.useState)([]),E=Object(m.a)(h,2),v=E[0],k=E[1],y=Object(n.useState)({city:"",address:"",country:"",lat:54.687157,lng:25.279652}),O=Object(m.a)(y,2),j=O[0],C=O[1],S=Object(n.useState)({city:"",address:"",country:"",lat:54.687157,lng:25.279652}),w=Object(m.a)(S,2),P=w[0],x=w[1],I=Object(n.useState)([]),D=Object(m.a)(I,2),N=D[0],L=D[1],W=Object(n.useState)(oa),T=Object(m.a)(W,2),A=T[0],M=T[1],R=["Basic place info","Place location","Parking","Place discovery settings","Working schedule"];return r.a.createElement("div",{className:a.root},r.a.createElement(X.a,{elevation:2,className:a.content},function(e){switch(e){case 0:return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,null),r.a.createElement(Xe,{photos:v,setPhotos:k}));case 1:return r.a.createElement(aa,{locationData:j,setLocationData:C});case 2:return r.a.createElement(ta,{allSelectedParkingData:N,setAllSelectedParkingData:L,parkingMarkerData:P,setParkingMarkerData:x});case 3:return r.a.createElement(ca,{selectedTags:u,setSelectedTags:d,selectedCategories:f,setSelectedCategories:b});case 4:return r.a.createElement(ga,{scheduleData:A,setScheduleData:M})}}(i)),r.a.createElement(X.a,{elevation:2,className:a.bottomBar},r.a.createElement(je.a,{activeStep:i,style:{backgroundColor:"transparent",width:"100%"}},R.map((function(e,a){return r.a.createElement(Ce.a,{key:a},r.a.createElement(Se.a,null,e))}))),r.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){c((function(e){return Math.max(0,e-1)}))},className:a.button},"Back"),r.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){c((function(e){return Math.min(e+1,R.length)}))},className:a.button},"Next")))})),fa=Object(f.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(g.a)(Object(g.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function ba(){var e=fa(),a=Object(b.a)(),t=Object(n.useState)(!1),l=Object(m.a)(t,2),i=l[0],c=l[1],o=Object(n.useState)("Home"),s=Object(m.a)(o,2),u=s[0],g=s[1];return r.a.createElement("div",{className:e.root},r.a.createElement(E.a,null),r.a.createElement(v.a,{position:"fixed",className:Object(p.a)(e.appBar,Object(d.a)({},e.appBarShift,i))},r.a.createElement(k.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},edge:"start",className:Object(p.a)(e.menuButton,i&&e.hide)},r.a.createElement(w.a,null)),r.a.createElement(O.a,{variant:"h6",noWrap:!0},u))),r.a.createElement(W.b,{history:ke},r.a.createElement(h.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(C.a,{onClick:function(){c(!1)}},"ltr"===a.direction?r.a.createElement(x.a,null):r.a.createElement(D.a,null))),r.a.createElement(j.a,null),r.a.createElement(y.a,null,r.a.createElement(N.a,{button:!0,component:T.a,to:"/",onClick:function(){return g("Home")}},r.a.createElement(L.a,null,"Home")),r.a.createElement(j.a,{light:!0}),r.a.createElement(N.a,{button:!0,component:T.a,to:"/places",onClick:function(){return g("Place")}},r.a.createElement(L.a,null,"Places")),r.a.createElement(N.a,{button:!0,component:T.a,to:"/addplace",onClick:function(){return g("Add Place")}},r.a.createElement(L.a,null,"Add place")))),r.a.createElement("main",{className:Object(p.a)(e.content,Object(d.a)({},e.contentShift,i))},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(W.a,{exact:!0,path:"/",component:M}),r.a.createElement(W.a,{path:"/places",component:Oe}),r.a.createElement(W.a,{path:"/addplace",component:pa}))))}var ha=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba,null))}}]),t}(n.Component);i.a.render(r.a.createElement(ha,null),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.d45d68b0.chunk.js.map